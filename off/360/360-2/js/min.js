/*
 *  Project: Thavis360-Javascript-Viewer
 *	Version: 1.09 Free
 *  Description: Javascript-based 360 viewer
 *  Author: (c) THAVIS GmbH & Co. KG, Germany, http://www.thavis.com
 *  License:
 */

function playpause360(){jQuery(".t-play-pause").trigger("click")}(function(b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{b(window.jQuery)}}(function(b){if(window.XDomainRequest&&!b.support.cors){b.ajaxTransport(function(d){if(d.crossDomain&&d.async){if(d.timeout){d.xdrTimeout=d.timeout;delete d.timeout}var c;return{send:function(f,e){function g(h,k,j,i){c.onload=c.onerror=c.ontimeout=b.noop;c=null;e(h,k,j,i)}c=new XDomainRequest();if(d.type==="DELETE"){d.url=d.url+(/\?/.test(d.url)?"&":"?")+"_method=DELETE";d.type="POST"}else{if(d.type==="PUT"){d.url=d.url+(/\?/.test(d.url)?"&":"?")+"_method=PUT";d.type="POST"}}c.open(d.type,d.url);c.onload=function(){g(200,"OK",{text:c.responseText},"Content-Type: "+c.contentType)};c.onerror=function(){g(404,"Not Found")};if(d.xdrTimeout){c.ontimeout=function(){g(0,"timeout")};c.timeout=d.xdrTimeout}c.send((d.hasContent&&d.data)||null)},abort:function(){if(c){c.onerror=b.noop();c.abort()}}}}})}}));(function($){$(document).ready(function(){$(".cloud-zoom, .cloud-zoom-gallery").CloudZoom()});function format(str){for(var i=1;i<arguments.length;i++){str=str.replace("%"+(i-1),arguments[i])}return str}function CloudZoom(jWin,opts){var sImg=$("img",jWin);var img1;var img2;var zoomDiv=null;var $mouseTrap=null;var lens=null;var $tint=null;var softFocus=null;var $ie6Fix=null;var zoomImage;var controlTimer=0;var cw,ch;var destU=0;var destV=0;var currV=0;var currU=0;var filesLoaded=0;var mx,my;var ctx=this,zw;setTimeout(function(){if($mouseTrap===null){var w=jWin.width();jWin.parent().append(format('<div style="width:%0px;position:absolute;top:75%;left:%1px;text-align:center" class="cloud-zoom-loading" >Loading...</div>',w/3,(w/2)-(w/6))).find(":last").css("opacity",0.5)}},200);var ie6FixRemove=function(){if($ie6Fix!==null){$ie6Fix.remove();$ie6Fix=null}};this.removeBits=function(){if(lens){lens.remove();lens=null}if($tint){$tint.remove();$tint=null}if(softFocus){softFocus.remove();softFocus=null}ie6FixRemove();$(".cloud-zoom-loading",jWin.parent()).remove()};this.destroy=function(){jWin.data("zoom",null);if($mouseTrap){$mouseTrap.unbind();$mouseTrap.remove();$mouseTrap=null}if(zoomDiv){zoomDiv.remove();zoomDiv=null}this.removeBits()};this.fadedOut=function(){if(zoomDiv){zoomDiv.remove();zoomDiv=null}this.removeBits()};this.controlLoop=function(){if(lens){var x=(mx-sImg.offset().left-(cw*0.5))>>0;var y=(my-sImg.offset().top-(ch*0.5))>>0;if(x<0){x=0}else{if(x>(sImg.outerWidth()-cw)){x=(sImg.outerWidth()-cw)}}if(y<0){y=0}else{if(y>(sImg.outerHeight()-ch)){y=(sImg.outerHeight()-ch)}}lens.css({left:x,top:y});lens.css("background-position",(-x)+"px "+(-y)+"px");destU=(((x)/sImg.outerWidth())*zoomImage.width)>>0;destV=(((y)/sImg.outerHeight())*zoomImage.height)>>0;currU+=(destU-currU)/opts.smoothMove;currV+=(destV-currV)/opts.smoothMove;zoomDiv.css("background-position",(-(currU>>0)+"px ")+(-(currV>>0)+"px"))}controlTimer=setTimeout(function(){ctx.controlLoop()},30)};this.init2=function(img,id){filesLoaded++;if(id===1){zoomImage=img}if(filesLoaded===2){this.init()}};this.init=function(){$(".cloud-zoom-loading",jWin.parent()).remove();$mouseTrap=jWin.parent().append(format("<div class='mousetrap' style='background-image:url(\".\");z-index:999;position:absolute;width:%0px;height:%1px;left:%2px;top:%3px;'></div>",sImg.outerWidth(),sImg.outerHeight(),0,0)).find(":last");var xPos=opts.adjustX,yPos=opts.adjustY;var siw=sImg.outerWidth();var sih=sImg.outerHeight();var w=opts.zoomWidth;var h=opts.zoomHeight;if(opts.zoomWidth=="auto"){w=siw}if(opts.zoomHeight=="auto"){h=sih}var appendTo=jWin.parent();switch(opts.position){case"top":yPos-=h;break;case"right":xPos+=siw;break;case"bottom":yPos+=sih;break;case"left":xPos-=w;break;case"inside":w=siw;h=sih;break;default:appendTo=$("#"+opts.position);if(!appendTo.length){appendTo=jWin;xPos+=siw;yPos+=sih}else{w=appendTo.innerWidth();h=appendTo.innerHeight()}}zoomDiv=appendTo.append(format('<div class="cloud-zoom-big" style="display:none;position:absolute;left:%0px;top:%1px;width:%2px;height:%3px;background-image:url(\'%4\');z-index:99;"></div>',xPos,yPos,w,h,zoomImage.src)).find(":last");if(sImg.attr("title")&&opts.showTitle){zoomDiv.append(format('<div class="cloud-zoom-title">%0</div>',sImg.attr("title"))).find(":last").css("opacity",opts.titleOpacity)}if($.browser.msie&&$.browser.version<7){$ie6Fix=$('<iframe frameborder="0" src="#"></iframe>').css({position:"absolute",left:xPos,top:yPos,zIndex:99,width:w,height:h}).insertBefore(zoomDiv)}zoomDiv.fadeIn(500);if(lens){lens.remove();lens=null}cw=(sImg.outerWidth()/zoomImage.width)*zoomDiv.width();ch=(sImg.outerHeight()/zoomImage.height)*zoomDiv.height();lens=jWin.append(format("<div class = 'cloud-zoom-lens' style='display:none;z-index:98;position:absolute;width:%0px;height:%1px;left:0;top:0;'></div>",cw,ch)).find(":last");$mouseTrap.css("cursor",lens.css("cursor"));var noTrans=false;if(opts.tint){$tint=jWin.append(format('<div class="tint" style="display:none;position:absolute; left:0px; top:0px; width:%0px; height:%1px; background-color:%2;" />',sImg.outerWidth(),sImg.outerHeight(),opts.tint)).find(":last");
$tint.css("opacity",opts.tintOpacity);noTrans=true;$tint.fadeIn(500)}if(!noTrans){lens.css("opacity",opts.lensOpacity)}if(opts.position!=="inside"){lens.fadeIn(500)}$mouseTrap.bind("mousemove touchmove",this,function(event){if(event.type=="touchmove"&&typeof(event.originalEvent.touches)!="undefined"){mx=event.originalEvent.touches[0].pageX;my=event.originalEvent.touches[0].pageY}else{mx=event.pageX;my=event.pageY}});$mouseTrap.bind("mouseleave touchend",this,function(event){clearTimeout(controlTimer);return false});$mouseTrap.bind("mouseenter touchstart",this,function(event){if(event.type=="touchstart"&&typeof(event.originalEvent.touches)!="undefined"){event.preventDefault();mx=event.originalEvent.touches[0].pageX;my=event.originalEvent.touches[0].pageY}else{mx=event.pageX;my=event.pageY}zw=event.data;if(zoomDiv){zoomDiv.stop(true,false);zoomDiv.remove()}var xPos=opts.adjustX,yPos=opts.adjustY;var siw=sImg.outerWidth();var sih=sImg.outerHeight();var w=opts.zoomWidth;var h=opts.zoomHeight;if(opts.zoomWidth=="auto"){w=siw}if(opts.zoomHeight=="auto"){h=sih}var appendTo=jWin.parent();switch(opts.position){case"top":yPos-=h;break;case"right":xPos+=siw;break;case"bottom":yPos+=sih;break;case"left":xPos-=w;break;case"inside":w=siw;h=sih;break;default:appendTo=$("#"+opts.position);if(!appendTo.length){appendTo=jWin;xPos+=siw;yPos+=sih}else{w=appendTo.innerWidth();h=appendTo.innerHeight()}}zoomDiv=appendTo.append(format('<div class="cloud-zoom-big" style="display:none;position:absolute;left:%0px;top:%1px;width:%2px;height:%3px;background-image:url(\'%4\');z-index:99;"></div>',xPos,yPos,w,h,zoomImage.src)).find(":last");if(sImg.attr("title")&&opts.showTitle){zoomDiv.append(format('<div class="cloud-zoom-title">%0</div>',sImg.attr("title"))).find(":last").css("opacity",opts.titleOpacity)}if($.browser.msie&&$.browser.version<7){$ie6Fix=$('<iframe frameborder="0" src="#"></iframe>').css({position:"absolute",left:xPos,top:yPos,zIndex:99,width:w,height:h}).insertBefore(zoomDiv)}zoomDiv.fadeIn(500);if(lens){lens.remove();lens=null}cw=(sImg.outerWidth()/zoomImage.width)*zoomDiv.width();ch=(sImg.outerHeight()/zoomImage.height)*zoomDiv.height();lens=jWin.append(format("<div class = 'cloud-zoom-lens' style='display:none;z-index:98;position:absolute;width:%0px;height:%1px;'></div>",cw,ch)).find(":last");$mouseTrap.css("cursor",lens.css("cursor"));var noTrans=false;if(opts.tint){$tint=jWin.append(format('<div style="display:none;position:absolute; left:0px; top:0px; width:%0px; height:%1px; background-color:%2;" />',sImg.outerWidth(),sImg.outerHeight(),opts.tint)).find(":last");$tint.css("opacity",opts.tintOpacity);noTrans=true;$tint.fadeIn(500)}if(opts.softFocus){}if(!noTrans){lens.css("opacity",opts.lensOpacity)}if(opts.position!=="inside"){lens.fadeIn(500)}zw.controlLoop();if(event.type=="touchstart"){event.preventDefault()}return})};img1=new Image();$(img1).load(function(){ctx.init2(this,0)});img1.src=sImg.attr("src");img2=new Image();$(img2).load(function(){ctx.init2(this,1)});img2.src=jWin.attr("href")}$.fn.CloudZoom=function(options){try{document.execCommand("BackgroundImageCache",false,true)}catch(e){}this.each(function(){var relOpts,opts;eval("var	a = {"+$(this).attr("rel")+"}");relOpts=a;if($(this).is(".cloud-zoom")){$(this).css({position:"relative",display:"block"});$("img",$(this)).css({display:"block"});if($(this).parent().attr("id")!="wrap"){$(this).wrap('<div id="wrap" style="top:0px;z-index:9999;position:relative;"></div>')}opts=$.extend({},$.fn.CloudZoom.defaults,options);opts=$.extend({},opts,relOpts);$(this).data("zoom",new CloudZoom($(this),opts))}else{if($(this).is(".cloud-zoom-gallery")){opts=$.extend({},relOpts,options);$(this).data("relOpts",opts);$(this).bind("touchstart click",$(this),function(event){var data=event.data.data("relOpts");$("#"+data.useZoom).data("zoom").destroy();$("#"+data.useZoom).attr("href",event.data.attr("href"));$("#"+data.useZoom+" img").attr("src",event.data.data("relOpts").smallImage);$("#"+event.data.data("relOpts").useZoom).CloudZoom();return false})}}});return this};$.fn.CloudZoom.defaults={zoomWidth:"auto",zoomHeight:"auto",position:"right",tint:false,tintOpacity:0.5,lensOpacity:0.5,softFocus:false,smoothMove:3,showTitle:true,titleOpacity:0.5,adjustX:0,adjustY:0}})(jQuery);(function(A,O,i){var e={};var t=document.documentElement,r=false,g=false,Q={},H=false,n=false,z=false;(function(){var K=document.createElement("div");K.style.position="fixed";K.style.margin=0;K.style.top="20px";t.appendChild(K,t.firstChild);H=K.offsetTop==20;t.removeChild(K)})();(function(){var K=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/;n=/(iPhone)/.test(navigator.userAgent);z=K.exec(navigator.userAgent.toLowerCase())?true:false})();e.current=-1;e.dimensions=null;e.imgArray=[];e.onReady=X;e.player=null;e.playerId="t-sb-player";e.options={fURL:"",zoomMode:"follow",customContainer:"",tmpContainer:"",handleOversize:"resize",onChange:X,onClose:X,onFinish:X,onOpen:X,viewportPadding:20};e.applyOptions=function(K){Q=Z({},e.options);
Z(e.options,K)};e.revertOptions=function(){Z(e.options,Q)};e.init=function(K,S){e.options.fURL=K.fURL;e.options.customContainer=K.customContainer;e.options.tmpContainer=K.customContainer;if(g){return}g=true;if(e.skin.options){Z(e.options,e.skin.options)}if(K){Z(e.options,K)}if(S){e.onReady=S}A(document).ready(e.load)};e.open=function(K){if(r){return}e.imgArray=[K];e.current=0;K=e.imgArray[0];if(K==null){return}e.applyOptions(K.options||{});if(e.imgArray.length){K=e.imgArray[0];if(e.options.onOpen(K)===false){return}r=true;if(A(G("t-sb-body-inner")).length==0){e.skin.init();e.skin.onOpen(K,P)}else{e.skin.onOpen(K,P)}}};e.close=function(K){C.style.position="absolute";if(!r){return}r=false;if(e.player){e.player.remove();e.player=null}e.options.onClose(e.imgArray[0]);e.skin.onClose();e.revertOptions();if(typeof K!=="undefined"){K()}};e.full=function(){if(!r){return}r=false;if(e.player){e.player.remove();e.player=null}e.options.onClose(e.imgArray[0]);e.options.customContainer="";C.style.position="fixed";A(e.options.tmpContainer).find(".t-sb-nav-full").css("display","none");TShadowbox.open({content:e.options.fURL,player:"img"})};e.setDimensions=function(ao,af,am,an,ae,K,ak,ah){var aj=ao,ad=af;var ai=2*ak+ae;if(ao+ai>am){ao=am-ai}var ac=2*ak+K;if(af+ac>an){af=an-ac}var S=(aj-ao)/aj,al=(ad-af)/ad,ag=(S>0||al>0);if(ah&&ag){if(S>al){af=Math.round((ad/aj)*ao)}else{if(al>S){ao=Math.round((aj/ad)*af)}}}e.dimensions={height:ao+ae,width:af+K,innerHeight:ao,innerWidth:af,top:Math.floor((am-(ao+ai))/2+ak),left:Math.floor((an-(af+ac))/2+ak),oversized:ag};return e.dimensions};function P(ac){var S=e.imgArray[0],K=S.player;if(typeof e[K]!=="function"){throw"unknown player "+K}e.player=new e[K](S,e.playerId);e.skin.onLoad(ac,k)}function k(){if(!r){return}if(typeof e.player.ready!="undefined"){var K=setInterval(function(){if(r){if(e.player.ready){clearInterval(K);K=null;e.skin.onReady(F)}}else{clearInterval(K);K=null}},10)}else{e.skin.onReady(F)}}function F(){if(!r){return}e.player.append(e.skin.body,e.dimensions);e.skin.onShow(j)}function j(){if(!r){return}if(e.player.onLoad){e.player.onLoad()}e.options.onFinish(e.imgArray[0])}function T(){return(new Date).getTime()}function Z(K,ac){for(var S in ac){K[S]=ac[S]}return K}function X(){}function G(K){return A(e.options.tmpContainer).find("."+K)[0]}function u(K){K.parentNode.removeChild(K)}function L(S){if(S.type=="touchstart"||S.type=="touchmove"){var K=O.event.touches[0].pageX||(O.event.touches[0].clientX+(document.documentElement.scrollLeft||document.body.scrollLeft)),ac=O.event.touches[0].pageY||(O.event.touches[0].clientY+(document.documentElement.scrollTop||document.body.scrollTop));return[K,ac]}else{var K=S.pageX||(S.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft)),ac=S.pageY||(S.clientY+(document.documentElement.scrollTop||document.body.scrollTop));return[K,ac]}}var x=false;e.load=function(){if(x){return}if(!document.body){return setTimeout(e.load,13)}x=true;e.onReady();e.skin.init()};function b(K){e.open(this);if(e.imgArray.length){K.preventDefault()}}var N,c="t-sb-drag-proxy",R,v,D;function d(){R={x:0,y:0,startX:null,startY:null}}function w(){var K=e.dimensions;Z(v.style,{height:K.innerHeight+"px",width:K.innerWidth+"px"})}function I(){d();var K=["position:absolute","cursor:move"].join(";");A(e.skin.body).append('<div class="'+c+'" style="'+K+'"></div>');v=G(c);w();if(e.options.zoomMode=="follow"){A(v).bind("mouseover",o)}else{A(v).bind("mousedown",o)}A(v).bind("touchstart",o)}function m(){if(v){var K=G("t-sb-info");A(K).unbind("mousemove",aa);A(K).unbind("touchmove",aa);if(e.options.zoomMode=="follow"){A(v).unbind("mouseover",o)}else{A(v).unbind("mousedown",o)}A(v).unbind("touchstart",o);u(v);v=null}D=null}function o(ac){ac.preventDefault();var S=L(ac);R.startX=S[0];R.startY=S[1];D=G(e.player.id);var K=G("t-sb-info");A(document).bind("mousemove",aa);A(document).bind("touchmove",aa);if(e.options.zoomMode=="follow"){A(document).bind("mouseout",B);A(K).bind("mousemove",aa);A(K).bind("touchmove",aa)}else{A(document).bind("mouseup",B)}A(document).bind("touchend",B)}function aa(ap){var am=e.player,ak=e.dimensions,S=L(ap);if(e.options.zoomMode=="follow"){$imagePan_panning=A(D);totalContentW=$imagePan_panning.width();totalContentH=$imagePan_panning.height();$imagePan=A(v);containerWidth=$imagePan.width();containerHeight=$imagePan.height();var ax=(S[0]-$imagePan.offset().left);var av=(S[1]-$imagePan.offset().top);var ad=ax/containerWidth;var ac=av/containerHeight;var ay=-(((totalContentW-(containerWidth))-containerWidth)*(ad));var aw=-(((totalContentH-(containerHeight))-containerHeight)*(ac));var al=ax-ay;var aj=ay-ax;var ai=av-aw;var ah=aw-av;var au=0;var an=0;var K=500;var af="easeOutCirc";var at=$imagePan.offset().left;var ar=$imagePan.offset().top;var aq=at+$imagePan.width();var ao=ar+$imagePan.height();if(!(S[0]<at)&&!(S[0]>aq)&&!(S[1]<ar)&&!(S[1]>ao)){if(ax>ay||av>aw){$imagePan_panning.css("left",-al-au);$imagePan_panning.css("top",-ai-an)}else{if(ax<ay||av<aw){$imagePan_panning.css("left",aj-au);
$imagePan_panning.css("top",ah-an)}else{$imagePan_panning.stop()}}}}else{var ag=S[0]-R.startX;R.startX+=ag;var ae=S[1]-R.startY;R.startY+=ae;R.x=Math.max(Math.min(0,R.x+ag),ak.innerWidth-am.width);R.y=Math.max(Math.min(0,R.y+ae),ak.innerHeight-am.height);Z(D.style,{left:R.x+"px",top:R.y+"px"})}}function B(){A(document).unbind("mousemove",aa);A(document).unbind("touchmove",aa);A(document).unbind("mouseup",B);if(e.options.zoomMode=="follow"){A(document).unbind("mouseout",B)}A(document).unbind("touchend",B)}e.img=function(S,ac){this.obj=S;this.id=ac;this.ready=false;var K=this;N=new Image();N.onload=function(){K.height=S.height?parseInt(S.height,10):N.height;K.width=S.width?parseInt(S.width,10):N.width;K.ready=true;N.onload=null;N=null};N.src=S.content};e.img.ext=["bmp","gif","jpg","jpeg","png"];e.img.prototype={append:function(S,ae){var ac=document.createElement("img");ac.className=this.id;ac.src=this.obj.content;ac.style.position="absolute";var K,ad;if(ae.oversized&&e.options.handleOversize=="resize"){K=ae.innerHeight;ad=ae.innerWidth}else{K=this.height;ad=this.width}ac.setAttribute("height",K);ac.setAttribute("width",ad);S.appendChild(ac)},remove:function(){var K=G(this.id);if(K){u(K)}m();if(N){N.onload=null;N=null}},onLoad:function(){var K=e.dimensions;if(K.oversized&&e.options.handleOversize=="drag"){I()}},onWindowResize:function(){var ad=e.dimensions;switch(e.options.handleOversize){case"resize":var K=G(this.id);K.height=ad.innerHeight;K.width=ad.innerWidth;break;case"drag":if(D){var ac=parseInt(A(D).css("top")),S=parseInt(A(D).css("left"));if(ac+this.height<ad.innerHeight){D.style.top=ad.innerHeight-this.height+"px"}if(S+this.width<ad.innerWidth){D.style.left=ad.innerWidth-this.width+"px"}w()}break}}};e.html=function(K,S){this.obj=K;this.className=S;this.height=K.height?parseInt(K.height,10):300;this.width=K.width?parseInt(K.width,10):500};e.html.prototype={append:function(K,S){var ac=document.createElement("div");ac.id=this.id;ac.className="html";ac.innerHTML=this.obj.content;K.appendChild(ac)},remove:function(){var K=G(this.id);if(K){u(K)}}};var Y=false,C,W,q,J=true;function E(){if(e.options.customContainer==""){if(z){C.style.height=O.innerHeight+"px";C.style.width=O.innerWidth+"px"}else{C.style.height=A(O).height()+"px";C.style.width=A(O).width()+"px"}}else{C.style.height=A(e.options.customContainer).height()+"px";C.style.width=A(e.options.customContainer).width()+"px"}}function V(){if(n){C.style.top=document.documentElement.scrollTop+"px";C.style.left=document.documentElement.scrollLeft+"px"}else{C.style.top=O.pageYOffset+"px";C.style.left=O.pageXOffset+"px"}}function s(ac,K){var S=G("t-sb-nav-"+ac);if(S){S.style.display=K?"":"none"}}function h(K,af){var ae=G("t-sb-loading"),ac=e.imgArray[0].player,ad=(ac=="img"||ac=="html");if(K){A(ae).css("opacity",0);ae.style.display="block";var S=function(){A(ae).css("opacity",1);if(af){af()}};if(ad){A(ae).animate({opacity:1},e.options.fadeDuration*1000,S)}else{S()}}else{var S=function(){ae.style.display="none";A(ae).css("opacity",1);if(af){af()}};if(ad){A(ae).animate({opacity:0},e.options.fadeDuration*1000,S)}else{S()}}}function ab(ac){var K=e.imgArray[0];var S;if(e.options.displayNav){S=true}else{S=false}s("close",S);ac()}function p(ac){var S=G("t-sb-info-inner"),K=0.35;S.style.visibility="";A(S).animate({marginTop:0},K*1000,ac)}function U(K,af){var ad=G("t-sb-info"),ae=ad.offsetHeight,ac=G("t-sb-info-inner"),S=(K?0.35:0);A(ac).animate({marginTop:ae*-1},S*1000,function(){ac.style.visibility="hidden";af()})}function y(K,ad,S,af){var ae=G("t-sb-wrapper-inner"),ac=(S?e.options.resizeDuration:0);A(q).animate({top:ad},ac*1000);A(ae).animate({height:K},ac*1000,af)}function l(K,ad,S,ae){var ac=(S?e.options.resizeDuration:0);A(q).animate({left:ad},ac*1000);A(q).animate({width:K},ac*1000,ae)}function M(ai,ac){var ae=G("t-sb-body-inner"),ai=parseInt(ai),ac=parseInt(ac),S=q.offsetHeight-ae.offsetHeight,K=q.offsetWidth-ae.offsetWidth,ag=W.offsetHeight,ah=W.offsetWidth,af=parseInt(e.options.viewportPadding)||20,ad=(e.player&&e.options.handleOversize!="drag");return e.setDimensions(ai,ac,ag,ah,S,K,af,ad)}var f={};f.markup='<div class="t-sb-container"><div class="t-sb-overlay"></div><div class="t-sb-wrapper"><div class="t-sb-wrapper-inner"><div class="t-sb-body"><div class="t-sb-body-inner"></div><div class="t-sb-loading"></div></div></div><div class="t-sb-info"><div class="t-sb-info-inner"><div class="t-sb-nav"><a class="t-sb-nav-close" onclick="TShadowbox.close()"></a><a class="t-sb-nav-full" onclick="TShadowbox.full()"></a></div></div></div></div></div>';f.options={displayNav:true,fadeDuration:0.35,initialHeight:160,initialWidth:320,modal:false,overlayColor:"#000",overlayOpacity:0.5,resizeDuration:0.35,showOverlay:true};f.init=function(){if(e.options.customContainer==""){A(document.body).append(f.markup)}else{A(e.options.customContainer).append(f.markup)}f.body=G("t-sb-body-inner");C=G("t-sb-container");W=G("t-sb-overlay");q=G("t-sb-wrapper");C.style.position="absolute";var K;
A(O).bind("resize",function(){if(K){clearTimeout(K);K=null}if(r){K=setTimeout(f.onWindowResize,10)}})};f.onOpen=function(K,ac){J=false;C.style.display="block";E();var S=M(e.options.initialHeight,e.options.initialWidth);y(S.innerHeight,S.top);l(S.width,S.left);if(e.options.showOverlay){W.style.backgroundColor=e.options.overlayColor;A(W).css("opacity",0);if(!e.options.modal){A(W).bind("click",e.close)}Y=true}if(e.options.customContainer==""&&z){V();A(O).bind("scroll",V)}C.style.visibility="visible";if(Y){A(W).animate({opacity:e.options.overlayOpacity},e.options.fadeDuration*1000,ac)}else{ac()}};f.onLoad=function(S,K){h(true);while(f.body.firstChild){u(f.body.firstChild)}U(S,function(){if(!r){return}if(!S){q.style.visibility="visible"}ab(K)})};f.onReady=function(ad){if(!r){return}var S=e.player,ac=M(S.height,S.width);var K=function(){p(ad)};l(ac.width,ac.left,false);y(ac.innerHeight,ac.top,false,K)};f.onShow=function(K){h(false,K);J=true};f.onClose=function(){if(z){A(O).unbind("scroll",V);C.style.top=0;C.style.left=0}A(W).unbind("click",e.close);q.style.visibility="hidden";var K=function(){C.style.visibility="hidden";C.style.display="none"};if(Y){A(W).animate({opacity:0},e.options.fadeDuration*1000,K)}else{K()}};f.onWindowResize=function(){if(!J){return}E();var K=e.player,S=M(K.height,K.width);l(S.width,S.left);y(S.innerHeight,S.top);if(K.onWindowResize){K.onWindowResize()}};e.skin=f;O.TShadowbox=e;O.SCurrent={};O.ZOpen=false})(jQuery,window);(function(d,e){d.fn.jPlayer=function(i){var h="jPlayer";var f=typeof i==="string",g=Array.prototype.slice.call(arguments,1),j=this;i=!f&&g.length?d.extend.apply(null,[true,i].concat(g)):i;if(f&&i.charAt(0)==="_"){return j}if(f){this.each(function(){var k=d.data(this,h),l=k&&d.isFunction(k[i])?k[i].apply(k,g):k;if(l!==k&&l!==e){j=l;return false}})}else{this.each(function(){var k=d.data(this,h);if(k){k.option(i||{})}else{d.data(this,h,new d.jPlayer(i,this))}})}return j};d.jPlayer=function(g,h){if(arguments.length){this.element=d(h);this.options=d.extend(true,{},this.options,g);var f=this;this.element.bind("remove.jPlayer",function(){f.destroy()});this._init()}};d.jPlayer.emulateMethods="load play pause";d.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate";d.jPlayer.emulateOptions="muted volume";d.jPlayer.reservedEvent="ready flashreset resize repeat error warning";d.jPlayer.event={ready:"jPlayer_ready",flashreset:"jPlayer_flashreset",resize:"jPlayer_resize",repeat:"jPlayer_repeat",click:"jPlayer_click",error:"jPlayer_error",warning:"jPlayer_warning",loadstart:"jPlayer_loadstart",progress:"jPlayer_progress",suspend:"jPlayer_suspend",abort:"jPlayer_abort",emptied:"jPlayer_emptied",stalled:"jPlayer_stalled",play:"jPlayer_play",pause:"jPlayer_pause",loadedmetadata:"jPlayer_loadedmetadata",loadeddata:"jPlayer_loadeddata",waiting:"jPlayer_waiting",playing:"jPlayer_playing",canplay:"jPlayer_canplay",canplaythrough:"jPlayer_canplaythrough",seeking:"jPlayer_seeking",seeked:"jPlayer_seeked",timeupdate:"jPlayer_timeupdate",ended:"jPlayer_ended",ratechange:"jPlayer_ratechange",durationchange:"jPlayer_durationchange",volumechange:"jPlayer_volumechange"};d.jPlayer.htmlEvent=["loadstart","abort","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","ratechange"];d.jPlayer.pause=function(){d.each(d.jPlayer.prototype.instances,function(g,f){if(f.data("jPlayer").status.srcSet){f.jPlayer("pause")}})};d.jPlayer.timeFormat={showHour:false,showMin:true,showSec:true,padHour:false,padMin:true,padSec:true,sepHour:":",sepMin:":",sepSec:""};d.jPlayer.convertTime=function(k){var l=new Date(k*1000);var g=l.getUTCHours();var i=l.getUTCMinutes();var j=l.getUTCSeconds();var h=(d.jPlayer.timeFormat.padHour&&g<10)?"0"+g:g;var m=(d.jPlayer.timeFormat.padMin&&i<10)?"0"+i:i;var f=(d.jPlayer.timeFormat.padSec&&j<10)?"0"+j:j;return((d.jPlayer.timeFormat.showHour)?h+d.jPlayer.timeFormat.sepHour:"")+((d.jPlayer.timeFormat.showMin)?m+d.jPlayer.timeFormat.sepMin:"")+((d.jPlayer.timeFormat.showSec)?f+d.jPlayer.timeFormat.sepSec:"")};d.jPlayer.uaBrowser=function(k){var g=k.toLowerCase();var i=/(webkit)[ \/]([\w.]+)/;var l=/(opera)(?:.*version)?[ \/]([\w.]+)/;var h=/(msie) ([\w.]+)/;var j=/(mozilla)(?:.*? rv:([\w.]+))?/;var f=i.exec(g)||l.exec(g)||h.exec(g)||g.indexOf("compatible")<0&&j.exec(g)||[];return{browser:f[1]||"",version:f[2]||"0"}};d.jPlayer.uaPlatform=function(l){var i=l.toLowerCase();var m=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/;var k=/(ipad|playbook)/;var h=/(android)/;var j=/(mobile)/;var f=m.exec(i)||[];var g=k.exec(i)||!j.exec(i)&&h.exec(i)||[];if(f[1]){f[1]=f[1].replace(/\s/g,"_")}return{platform:f[1]||"",tablet:g[1]||""}};d.jPlayer.browser={};d.jPlayer.platform={};var c=d.jPlayer.uaBrowser(navigator.userAgent);if(c.browser){d.jPlayer.browser[c.browser]=true;d.jPlayer.browser.version=c.version}var b=d.jPlayer.uaPlatform(navigator.userAgent);if(b.platform){d.jPlayer.platform[b.platform]=true;d.jPlayer.platform.mobile=!b.tablet;
d.jPlayer.platform.tablet=!!b.tablet}d.jPlayer.prototype={count:0,version:{script:"2.2.0",needFlash:"2.2.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",preload:"metadata",volume:0.8,muted:false,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",currentTime:".jp-current-time",duration:".jp-duration",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},fullScreen:false,autohide:{restored:false,full:true,fadeIn:200,fadeOut:600,hold:1000},loop:false,repeat:function(f){if(f.jPlayer.options.loop){d(this).unbind(".jPlayerRepeat").bind(d.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){d(this).jPlayer("play")})}else{d(this).unbind(".jPlayerRepeat")}},nativeVideoControls:{},noFullScreen:{msie:/msie [0-6]/,ipad:/ipad.*?os [0-4]/,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3](?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,webos:/webos/,playbook:/playbook/},verticalVolume:false,idPrefix:"jp",noConflict:"jQuery",emulateHtml:false,errorAlerts:false,warningAlerts:false},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:true,format:{},formatType:"",waitForPlay:true,waitForLoad:true,srcSet:false,video:false,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:false},solution:{html:true,flash:true},format:{mp3:{codec:'audio/mpeg; codecs="mp3"',flashCanPlay:true,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:true,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis"',flashCanPlay:false,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:false,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:false,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:true,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:true,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:true,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:false,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:false,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:true,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:true,media:"video"}},_init:function(){var g=this;this.element.empty();this.status=d.extend({},this.status);this.internal=d.extend({},this.internal);this.internal.domNode=this.element.get(0);this.formats=[];this.solutions=[];this.require={};this.htmlElement={};this.html={};this.html.audio={};this.html.video={};this.flash={};this.css={};this.css.cs={};this.css.jq={};this.ancestorJq=[];this.options.volume=this._limitValue(this.options.volume,0,1);d.each(this.options.supplied.toLowerCase().split(","),function(p,i){var n=i.replace(/^\s+|\s+$/g,"");if(g.format[n]){var o=false;d.each(g.formats,function(r,q){if(n===q){o=true;return false}});if(!o){g.formats.push(n)}}});d.each(this.options.solution.toLowerCase().split(","),function(p,n){var i=n.replace(/^\s+|\s+$/g,"");if(g.solution[i]){var o=false;d.each(g.solutions,function(r,q){if(i===q){o=true;return false}});if(!o){g.solutions.push(i)}}});this.internal.instance="jp_"+this.count;this.instances[this.internal.instance]=this.element;if(!this.element.attr("id")){this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count)}this.internal.self=d.extend({},{id:this.element.attr("id"),jq:this.element});this.internal.audio=d.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:e});this.internal.video=d.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:e});this.internal.flash=d.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:e,swf:this.options.swfPath+(this.options.swfPath.toLowerCase().slice(-4)!==".swf"?(this.options.swfPath&&this.options.swfPath.slice(-1)!=="/"?"/":"")+"Jplayer.swf":"")});this.internal.poster=d.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:e});d.each(d.jPlayer.event,function(i,n){if(g.options[i]!==e){g.element.bind(n+".jPlayer",g.options[i]);g.options[i]=e}});this.require.audio=false;this.require.video=false;d.each(this.formats,function(i,n){g.require[g.format[n].media]=true});
if(this.require.video){this.options=d.extend(true,{},this.optionsVideo,this.options)}else{this.options=d.extend(true,{},this.optionsAudio,this.options)}this._setSize();this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this.status.noFullScreen=this._uaBlocklist(this.options.noFullScreen);this.status.noVolume=this._uaBlocklist(this.options.noVolume);this._restrictNativeVideoControls();this.htmlElement.poster=document.createElement("img");this.htmlElement.poster.id=this.internal.poster.id;this.htmlElement.poster.onload=function(){if(!g.status.video||g.status.waitForPlay){g.internal.poster.jq.show()}};this.element.append(this.htmlElement.poster);this.internal.poster.jq=d("#"+this.internal.poster.id);this.internal.poster.jq.css({width:this.status.width,height:this.status.height});this.internal.poster.jq.hide();this.internal.poster.jq.bind("click.jPlayer",function(){g._trigger(d.jPlayer.event.click)});this.html.audio.available=false;if(this.require.audio){this.htmlElement.audio=document.createElement("audio");this.htmlElement.audio.id=this.internal.audio.id;this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)}this.html.video.available=false;if(this.require.video){this.htmlElement.video=document.createElement("video");this.htmlElement.video.id=this.internal.video.id;this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)}this.flash.available=this._checkForFlash(10);this.html.canPlay={};this.flash.canPlay={};d.each(this.formats,function(i,n){g.html.canPlay[n]=g.html[g.format[n].media].available&&""!==g.htmlElement[g.format[n].media].canPlayType(g.format[n].codec);g.flash.canPlay[n]=g.format[n].flashCanPlay&&g.flash.available});this.html.desired=false;this.flash.desired=false;d.each(this.solutions,function(o,i){if(o===0){g[i].desired=true}else{var p=false;var n=false;d.each(g.formats,function(q,r){if(g[g.solutions[0]].canPlay[r]){if(g.format[r].media==="video"){n=true}else{p=true}}});g[i].desired=(g.require.audio&&!p)||(g.require.video&&!n)}});this.html.support={};this.flash.support={};d.each(this.formats,function(i,n){g.html.support[n]=g.html.canPlay[n]&&g.html.desired;g.flash.support[n]=g.flash.canPlay[n]&&g.flash.desired});this.html.used=false;this.flash.used=false;d.each(this.solutions,function(n,i){d.each(g.formats,function(o,p){if(g[i].support[p]){g[i].used=true;return false}})});this._resetActive();this._resetGate();this._cssSelectorAncestor(this.options.cssSelectorAncestor);if(!(this.html.used||this.flash.used)){this._error({type:d.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:d.jPlayer.errorMsg.NO_SOLUTION,hint:d.jPlayer.errorHint.NO_SOLUTION});if(this.css.jq.noSolution.length){this.css.jq.noSolution.show()}}else{if(this.css.jq.noSolution.length){this.css.jq.noSolution.hide()}}if(this.flash.used){var k,l="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(d.jPlayer.browser.msie&&Number(d.jPlayer.browser.version)<=8){var f='<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0"></object>';var j=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+l+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'];k=document.createElement(f);for(var h=0;h<j.length;h++){k.appendChild(document.createElement(j[h]))}}else{var m=function(o,r,i){var q=document.createElement("param");q.setAttribute("name",r);q.setAttribute("value",i);o.appendChild(q)};k=document.createElement("object");k.setAttribute("id",this.internal.flash.id);k.setAttribute("data",this.internal.flash.swf);k.setAttribute("type","application/x-shockwave-flash");k.setAttribute("width","1");k.setAttribute("height","1");m(k,"flashvars",l);m(k,"allowscriptaccess","always");m(k,"bgcolor",this.options.backgroundColor);m(k,"wmode",this.options.wmode)}this.element.append(k);this.internal.flash.jq=d(k)}if(this.html.used){if(this.html.audio.available){this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio);this.element.append(this.htmlElement.audio);this.internal.audio.jq=d("#"+this.internal.audio.id)}if(this.html.video.available){this._addHtmlEventListeners(this.htmlElement.video,this.html.video);this.element.append(this.htmlElement.video);this.internal.video.jq=d("#"+this.internal.video.id);if(this.status.nativeVideoControls){this.internal.video.jq.css({width:this.status.width,height:this.status.height})}else{this.internal.video.jq.css({width:"0px",height:"0px"})}this.internal.video.jq.bind("click.jPlayer",function(){g._trigger(d.jPlayer.event.click)})}}if(this.options.emulateHtml){this._emulateHtmlBridge()}if(this.html.used&&!this.flash.used){setTimeout(function(){g.internal.ready=true;
g.version.flash="n/a";g._trigger(d.jPlayer.event.repeat);g._trigger(d.jPlayer.event.ready)},100)}this._updateNativeVideoControls();this._updateInterface();this._updateButtons(false);this._updateAutohide();this._updateVolume(this.options.volume);this._updateMute(this.options.muted);if(this.css.jq.videoPlay.length){this.css.jq.videoPlay.hide()}d.jPlayer.prototype.count++},destroy:function(){this.clearMedia();this._removeUiClass();if(this.css.jq.currentTime.length){this.css.jq.currentTime.text("")}if(this.css.jq.duration.length){this.css.jq.duration.text("")}d.each(this.css.jq,function(f,g){if(g.length){g.unbind(".jPlayer")}});this.internal.poster.jq.unbind(".jPlayer");if(this.internal.video.jq){this.internal.video.jq.unbind(".jPlayer")}if(this.options.emulateHtml){this._destroyHtmlBridge()}this.element.removeData("jPlayer");this.element.unbind(".jPlayer");this.element.empty();delete this.instances[this.internal.instance]},enable:function(){},disable:function(){},_testCanPlayType:function(g){try{g.canPlayType(this.format.mp3.codec);return true}catch(f){return false}},_uaBlocklist:function(g){var f=navigator.userAgent.toLowerCase(),h=false;d.each(g,function(j,i){if(i&&i.test(f)){h=true;return false}});return h},_restrictNativeVideoControls:function(){if(this.require.audio){if(this.status.nativeVideoControls){this.status.nativeVideoControls=false;this.status.noFullScreen=true}}},_updateNativeVideoControls:function(){if(this.html.video.available&&this.html.used){this.htmlElement.video.controls=this.status.nativeVideoControls;this._updateAutohide();if(this.status.nativeVideoControls&&this.require.video){this.internal.poster.jq.hide();this.internal.video.jq.css({width:this.status.width,height:this.status.height})}else{if(this.status.waitForPlay&&this.status.video){this.internal.poster.jq.show();this.internal.video.jq.css({width:"0px",height:"0px"})}}}},_addHtmlEventListeners:function(f,h){var g=this;f.preload=this.options.preload;f.muted=this.options.muted;f.volume=this.options.volume;f.addEventListener("progress",function(){if(h.gate){g._getHtmlStatus(f);g._updateInterface();g._trigger(d.jPlayer.event.progress)}},false);f.addEventListener("timeupdate",function(){if(h.gate){g._getHtmlStatus(f);g._updateInterface();g._trigger(d.jPlayer.event.timeupdate)}},false);f.addEventListener("durationchange",function(){if(h.gate){g._getHtmlStatus(f);g._updateInterface();g._trigger(d.jPlayer.event.durationchange)}},false);f.addEventListener("play",function(){if(h.gate){g._updateButtons(true);g._html_checkWaitForPlay();g._trigger(d.jPlayer.event.play)}},false);f.addEventListener("playing",function(){if(h.gate){g._updateButtons(true);g._seeked();g._trigger(d.jPlayer.event.playing)}},false);f.addEventListener("pause",function(){if(h.gate){g._updateButtons(false);g._trigger(d.jPlayer.event.pause)}},false);f.addEventListener("waiting",function(){if(h.gate){g._seeking();g._trigger(d.jPlayer.event.waiting)}},false);f.addEventListener("seeking",function(){if(h.gate){g._seeking();g._trigger(d.jPlayer.event.seeking)}},false);f.addEventListener("seeked",function(){if(h.gate){g._seeked();g._trigger(d.jPlayer.event.seeked)}},false);f.addEventListener("volumechange",function(){if(h.gate){g.options.volume=f.volume;g.options.muted=f.muted;g._updateMute();g._updateVolume();g._trigger(d.jPlayer.event.volumechange)}},false);f.addEventListener("suspend",function(){if(h.gate){g._seeked();g._trigger(d.jPlayer.event.suspend)}},false);f.addEventListener("ended",function(){if(h.gate){if(!d.jPlayer.browser.webkit){g.htmlElement.media.currentTime=0}g.htmlElement.media.pause();g._updateButtons(false);g._getHtmlStatus(f,true);g._updateInterface();g._trigger(d.jPlayer.event.ended)}},false);f.addEventListener("error",function(){if(h.gate){g._updateButtons(false);g._seeked();if(g.status.srcSet){clearTimeout(g.internal.htmlDlyCmdId);g.status.waitForLoad=true;g.status.waitForPlay=true;if(g.status.video&&!g.status.nativeVideoControls){g.internal.video.jq.css({width:"0px",height:"0px"})}if(g._validString(g.status.media.poster)&&!g.status.nativeVideoControls){g.internal.poster.jq.show()}if(g.css.jq.videoPlay.length){g.css.jq.videoPlay.show()}g._error({type:d.jPlayer.error.URL,context:g.status.src,message:d.jPlayer.errorMsg.URL,hint:d.jPlayer.errorHint.URL})}}},false);d.each(d.jPlayer.htmlEvent,function(k,j){f.addEventListener(this,function(){if(h.gate){g._trigger(d.jPlayer.event[j])}},false)})},_getHtmlStatus:function(j,g){var f=0,h=0,i=0,k=0;if(isFinite(j.duration)){this.status.duration=j.duration}f=j.currentTime;h=(this.status.duration>0)?100*f/this.status.duration:0;if((typeof j.seekable==="object")&&(j.seekable.length>0)){i=(this.status.duration>0)?100*j.seekable.end(j.seekable.length-1)/this.status.duration:100;k=(this.status.duration>0)?100*j.currentTime/j.seekable.end(j.seekable.length-1):0}else{i=100;k=h}if(g){f=0;k=0;h=0}this.status.seekPercent=i;this.status.currentPercentRelative=k;this.status.currentPercentAbsolute=h;this.status.currentTime=f;this.status.readyState=j.readyState;
this.status.networkState=j.networkState;this.status.playbackRate=j.playbackRate;this.status.ended=j.ended},_resetStatus:function(){this.status=d.extend({},this.status,d.jPlayer.prototype.status)},_trigger:function(g,f,h){var i=d.Event(g);i.jPlayer={};i.jPlayer.version=d.extend({},this.version);i.jPlayer.options=d.extend(true,{},this.options);i.jPlayer.status=d.extend(true,{},this.status);i.jPlayer.html=d.extend(true,{},this.html);i.jPlayer.flash=d.extend(true,{},this.flash);if(f){i.jPlayer.error=d.extend({},f)}if(h){i.jPlayer.warning=d.extend({},h)}this.element.trigger(i)},jPlayerFlashEvent:function(h,f){if(h===d.jPlayer.event.ready){if(!this.internal.ready){this.internal.ready=true;this.internal.flash.jq.css({width:"0px",height:"0px"});this.version.flash=f.version;if(this.version.needFlash!==this.version.flash){this._error({type:d.jPlayer.error.VERSION,context:this.version.flash,message:d.jPlayer.errorMsg.VERSION+this.version.flash,hint:d.jPlayer.errorHint.VERSION})}this._trigger(d.jPlayer.event.repeat);this._trigger(h)}else{if(this.flash.gate){if(this.status.srcSet){var i=this.status.currentTime,g=this.status.paused;this.setMedia(this.status.media);if(i>0){if(g){this.pause(i)}else{this.play(i)}}}this._trigger(d.jPlayer.event.flashreset)}}}if(this.flash.gate){switch(h){case d.jPlayer.event.progress:this._getFlashStatus(f);this._updateInterface();this._trigger(h);break;case d.jPlayer.event.timeupdate:this._getFlashStatus(f);this._updateInterface();this._trigger(h);break;case d.jPlayer.event.play:this._seeked();this._updateButtons(true);this._trigger(h);break;case d.jPlayer.event.pause:this._updateButtons(false);this._trigger(h);break;case d.jPlayer.event.ended:this._updateButtons(false);this._trigger(h);break;case d.jPlayer.event.click:this._trigger(h);break;case d.jPlayer.event.error:this.status.waitForLoad=true;this.status.waitForPlay=true;if(this.status.video){this.internal.flash.jq.css({width:"0px",height:"0px"})}if(this._validString(this.status.media.poster)){this.internal.poster.jq.show()}if(this.css.jq.videoPlay.length&&this.status.video){this.css.jq.videoPlay.show()}if(this.status.video){this._flash_setVideo(this.status.media)}else{this._flash_setAudio(this.status.media)}this._updateButtons(false);this._error({type:d.jPlayer.error.URL,context:f.src,message:d.jPlayer.errorMsg.URL,hint:d.jPlayer.errorHint.URL});break;case d.jPlayer.event.seeking:this._seeking();this._trigger(h);break;case d.jPlayer.event.seeked:this._seeked();this._trigger(h);break;case d.jPlayer.event.ready:break;default:this._trigger(h)}}return false},_getFlashStatus:function(f){this.status.seekPercent=f.seekPercent;this.status.currentPercentRelative=f.currentPercentRelative;this.status.currentPercentAbsolute=f.currentPercentAbsolute;this.status.currentTime=f.currentTime;this.status.duration=f.duration;this.status.readyState=4;this.status.networkState=0;this.status.playbackRate=1;this.status.ended=false},_updateButtons:function(f){if(f!==e){this.status.paused=!f;if(this.css.jq.play.length&&this.css.jq.pause.length){if(f){this.css.jq.play.hide();this.css.jq.pause.show()}else{this.css.jq.play.show();this.css.jq.pause.hide()}}}if(this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length){if(this.status.noFullScreen){this.css.jq.fullScreen.hide();this.css.jq.restoreScreen.hide()}else{if(this.options.fullScreen){this.css.jq.fullScreen.hide();this.css.jq.restoreScreen.show()}else{this.css.jq.fullScreen.show();this.css.jq.restoreScreen.hide()}}}if(this.css.jq.repeat.length&&this.css.jq.repeatOff.length){if(this.options.loop){this.css.jq.repeat.hide();this.css.jq.repeatOff.show()}else{this.css.jq.repeat.show();this.css.jq.repeatOff.hide()}}},_updateInterface:function(){if(this.css.jq.seekBar.length){this.css.jq.seekBar.width(this.status.seekPercent+"%")}if(this.css.jq.playBar.length){this.css.jq.playBar.width(this.status.currentPercentRelative+"%")}if(this.css.jq.currentTime.length){this.css.jq.currentTime.text(d.jPlayer.convertTime(this.status.currentTime))}if(this.css.jq.duration.length){this.css.jq.duration.text(d.jPlayer.convertTime(this.status.duration))}},_seeking:function(){if(this.css.jq.seekBar.length){this.css.jq.seekBar.addClass("jp-seeking-bg")}},_seeked:function(){if(this.css.jq.seekBar.length){this.css.jq.seekBar.removeClass("jp-seeking-bg")}},_resetGate:function(){this.html.audio.gate=false;this.html.video.gate=false;this.flash.gate=false},_resetActive:function(){this.html.active=false;this.flash.active=false},setMedia:function(h){var g=this,f=false,i=this.status.media.poster!==h.poster;this._resetMedia();this._resetGate();this._resetActive();d.each(this.formats,function(j,l){var k=g.format[l].media==="video";d.each(g.solutions,function(n,m){if(g[m].support[l]&&g._validString(h[l])){var o=m==="html";if(k){if(o){g.html.video.gate=true;g._html_setVideo(h);g.html.active=true}else{g.flash.gate=true;g._flash_setVideo(h);g.flash.active=true}if(g.css.jq.videoPlay.length){g.css.jq.videoPlay.show()}g.status.video=true}else{if(o){g.html.audio.gate=true;
g._html_setAudio(h);g.html.active=true}else{g.flash.gate=true;g._flash_setAudio(h);g.flash.active=true}if(g.css.jq.videoPlay.length){g.css.jq.videoPlay.hide()}g.status.video=false}f=true;return false}});if(f){return false}});if(f){if(!(this.status.nativeVideoControls&&this.html.video.gate)){if(this._validString(h.poster)){if(i){this.htmlElement.poster.src=h.poster}else{this.internal.poster.jq.show()}}}this.status.srcSet=true;this.status.media=d.extend({},h);this._updateButtons(false);this._updateInterface()}else{this._error({type:d.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:d.jPlayer.errorMsg.NO_SUPPORT,hint:d.jPlayer.errorHint.NO_SUPPORT})}},_resetMedia:function(){this._resetStatus();this._updateButtons(false);this._updateInterface();this._seeked();this.internal.poster.jq.hide();clearTimeout(this.internal.htmlDlyCmdId);if(this.html.active){this._html_resetMedia()}else{if(this.flash.active){this._flash_resetMedia()}}},clearMedia:function(){this._resetMedia();if(this.html.active){this._html_clearMedia()}else{if(this.flash.active){this._flash_clearMedia()}}this._resetGate();this._resetActive()},load:function(){if(this.status.srcSet){if(this.html.active){this._html_load()}else{if(this.flash.active){this._flash_load()}}}else{this._urlNotSetError("load")}},play:function(f){f=(typeof f==="number")?f:NaN;if(this.status.srcSet){if(this.html.active){this._html_play(f)}else{if(this.flash.active){this._flash_play(f)}}}else{this._urlNotSetError("play")}},videoPlay:function(){this.play()},pause:function(f){f=(typeof f==="number")?f:NaN;if(this.status.srcSet){if(this.html.active){this._html_pause(f)}else{if(this.flash.active){this._flash_pause(f)}}}else{this._urlNotSetError("pause")}},pauseOthers:function(){var f=this;d.each(this.instances,function(h,g){if(f.element!==g){if(g.data("jPlayer").status.srcSet){g.jPlayer("pause")}}})},stop:function(){if(this.status.srcSet){if(this.html.active){this._html_pause(0)}else{if(this.flash.active){this._flash_pause(0)}}}else{this._urlNotSetError("stop")}},playHead:function(f){f=this._limitValue(f,0,100);if(this.status.srcSet){if(this.html.active){this._html_playHead(f)}else{if(this.flash.active){this._flash_playHead(f)}}}else{this._urlNotSetError("playHead")}},_muted:function(f){this.options.muted=f;if(this.html.used){this._html_mute(f)}if(this.flash.used){this._flash_mute(f)}if(!this.html.video.gate&&!this.html.audio.gate){this._updateMute(f);this._updateVolume(this.options.volume);this._trigger(d.jPlayer.event.volumechange)}},mute:function(f){f=f===e?true:!!f;this._muted(f)},unmute:function(f){f=f===e?true:!!f;this._muted(!f)},_updateMute:function(f){if(f===e){f=this.options.muted}if(this.css.jq.mute.length&&this.css.jq.unmute.length){if(this.status.noVolume){this.css.jq.mute.hide();this.css.jq.unmute.hide()}else{if(f){this.css.jq.mute.hide();this.css.jq.unmute.show()}else{this.css.jq.mute.show();this.css.jq.unmute.hide()}}}},volume:function(f){f=this._limitValue(f,0,1);this.options.volume=f;if(this.html.used){this._html_volume(f)}if(this.flash.used){this._flash_volume(f)}if(!this.html.video.gate&&!this.html.audio.gate){this._updateVolume(f);this._trigger(d.jPlayer.event.volumechange)}},volumeBar:function(j){if(this.css.jq.volumeBar.length){var k=this.css.jq.volumeBar.offset(),f=j.pageX-k.left,g=this.css.jq.volumeBar.width(),l=this.css.jq.volumeBar.height()-j.pageY+k.top,i=this.css.jq.volumeBar.height();if(this.options.verticalVolume){this.volume(l/i)}else{this.volume(f/g)}}if(this.options.muted){this._muted(false)}},volumeBarValue:function(f){this.volumeBar(f)},_updateVolume:function(f){if(f===e){f=this.options.volume}f=this.options.muted?0:f;if(this.status.noVolume){if(this.css.jq.volumeBar.length){this.css.jq.volumeBar.hide()}if(this.css.jq.volumeBarValue.length){this.css.jq.volumeBarValue.hide()}if(this.css.jq.volumeMax.length){this.css.jq.volumeMax.hide()}}else{if(this.css.jq.volumeBar.length){this.css.jq.volumeBar.show()}if(this.css.jq.volumeBarValue.length){this.css.jq.volumeBarValue.show();this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"]((f*100)+"%")}if(this.css.jq.volumeMax.length){this.css.jq.volumeMax.show()}}},volumeMax:function(){this.volume(1);if(this.options.muted){this._muted(false)}},_cssSelectorAncestor:function(g){var f=this;this.options.cssSelectorAncestor=g;this._removeUiClass();this.ancestorJq=g?d(g):[];if(g&&this.ancestorJq.length!==1){this._warning({type:d.jPlayer.warning.CSS_SELECTOR_COUNT,context:g,message:d.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:d.jPlayer.warningHint.CSS_SELECTOR_COUNT})}this._addUiClass();d.each(this.options.cssSelector,function(h,i){f._cssSelector(h,i)})},_cssSelector:function(h,i){var f=this;if(typeof i==="string"){if(d.jPlayer.prototype.options.cssSelector[h]){if(this.css.jq[h]&&this.css.jq[h].length){this.css.jq[h].unbind(".jPlayer")}this.options.cssSelector[h]=i;this.css.cs[h]=this.options.cssSelectorAncestor+" "+i;
if(i){this.css.jq[h]=d(this.css.cs[h])}else{this.css.jq[h]=[]}if(this.css.jq[h].length){var g=function(j){f[h](j);d(this).blur();return false};this.css.jq[h].bind("click.jPlayer",g)}if(i&&this.css.jq[h].length!==1){this._warning({type:d.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[h],message:d.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[h].length+" found for "+h+" method.",hint:d.jPlayer.warningHint.CSS_SELECTOR_COUNT})}}else{this._warning({type:d.jPlayer.warning.CSS_SELECTOR_METHOD,context:h,message:d.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:d.jPlayer.warningHint.CSS_SELECTOR_METHOD})}}else{this._warning({type:d.jPlayer.warning.CSS_SELECTOR_STRING,context:i,message:d.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:d.jPlayer.warningHint.CSS_SELECTOR_STRING})}},seekBar:function(i){if(this.css.jq.seekBar){var j=this.css.jq.seekBar.offset();var f=i.pageX-j.left;var g=this.css.jq.seekBar.width();var h=100*f/g;this.playHead(h)}},playBar:function(f){this.seekBar(f)},repeat:function(){this._loop(true)},repeatOff:function(){this._loop(false)},_loop:function(f){if(this.options.loop!==f){this.options.loop=f;this._updateButtons();this._trigger(d.jPlayer.event.repeat)}},currentTime:function(){},duration:function(){},gui:function(){},noSolution:function(){},option:function(l,o){var g=l;if(arguments.length===0){return d.extend(true,{},this.options)}if(typeof l==="string"){var n=l.split(".");if(o===e){var k=d.extend(true,{},this.options);for(var h=0;h<n.length;h++){if(k[n[h]]!==e){k=k[n[h]]}else{this._warning({type:d.jPlayer.warning.OPTION_KEY,context:l,message:d.jPlayer.warningMsg.OPTION_KEY,hint:d.jPlayer.warningHint.OPTION_KEY});return e}}return k}g={};var m=g;for(var f=0;f<n.length;f++){if(f<n.length-1){m[n[f]]={};m=m[n[f]]}else{m[n[f]]=o}}}this._setOptions(g);return this},_setOptions:function(g){var f=this;d.each(g,function(h,i){f._setOption(h,i)});return this},_setOption:function(g,h){var f=this;switch(g){case"volume":this.volume(h);break;case"muted":this._muted(h);break;case"cssSelectorAncestor":this._cssSelectorAncestor(h);break;case"cssSelector":d.each(h,function(i,j){f._cssSelector(i,j)});break;case"fullScreen":if(this.options[g]!==h){this._removeUiClass();this.options[g]=h;this._refreshSize()}break;case"size":if(!this.options.fullScreen&&this.options[g].cssClass!==h.cssClass){this._removeUiClass()}this.options[g]=d.extend({},this.options[g],h);this._refreshSize();break;case"sizeFull":if(this.options.fullScreen&&this.options[g].cssClass!==h.cssClass){this._removeUiClass()}this.options[g]=d.extend({},this.options[g],h);this._refreshSize();break;case"autohide":this.options[g]=d.extend({},this.options[g],h);this._updateAutohide();break;case"loop":this._loop(h);break;case"nativeVideoControls":this.options[g]=d.extend({},this.options[g],h);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this._restrictNativeVideoControls();this._updateNativeVideoControls();break;case"noFullScreen":this.options[g]=d.extend({},this.options[g],h);this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls);this.status.noFullScreen=this._uaBlocklist(this.options.noFullScreen);this._restrictNativeVideoControls();this._updateButtons();break;case"noVolume":this.options[g]=d.extend({},this.options[g],h);this.status.noVolume=this._uaBlocklist(this.options.noVolume);this._updateVolume();this._updateMute();break;case"emulateHtml":if(this.options[g]!==h){this.options[g]=h;if(h){this._emulateHtmlBridge()}else{this._destroyHtmlBridge()}}break}return this},_refreshSize:function(){this._setSize();this._addUiClass();this._updateSize();this._updateButtons();this._updateAutohide();this._trigger(d.jPlayer.event.resize)},_setSize:function(){if(this.options.fullScreen){this.status.width=this.options.sizeFull.width;this.status.height=this.options.sizeFull.height;this.status.cssClass=this.options.sizeFull.cssClass}else{this.status.width=this.options.size.width;this.status.height=this.options.size.height;this.status.cssClass=this.options.size.cssClass}this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){if(this.ancestorJq.length){this.ancestorJq.addClass(this.status.cssClass)}},_removeUiClass:function(){if(this.ancestorJq.length){this.ancestorJq.removeClass(this.status.cssClass)}},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height});if(!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls){this.internal.video.jq.css({width:this.status.width,height:this.status.height})}else{if(!this.status.waitForPlay&&this.flash.active&&this.status.video){this.internal.flash.jq.css({width:this.status.width,height:this.status.height})}}},_updateAutohide:function(){var f=this,j="mousemove.jPlayer",i=".jPlayerAutohide",g=j+i,h=function(){f.css.jq.gui.fadeIn(f.options.autohide.fadeIn,function(){clearTimeout(f.internal.autohideId);f.internal.autohideId=setTimeout(function(){f.css.jq.gui.fadeOut(f.options.autohide.fadeOut)
},f.options.autohide.hold)})};if(this.css.jq.gui.length){this.css.jq.gui.stop(true,true);clearTimeout(this.internal.autohideId);this.element.unbind(i);this.css.jq.gui.unbind(i);if(!this.status.nativeVideoControls){if(this.options.fullScreen&&this.options.autohide.full||!this.options.fullScreen&&this.options.autohide.restored){this.element.bind(g,h);this.css.jq.gui.bind(g,h);this.css.jq.gui.hide()}else{this.css.jq.gui.show()}}else{this.css.jq.gui.hide()}}},fullScreen:function(){this._setOption("fullScreen",true)},restoreScreen:function(){this._setOption("fullScreen",false)},_html_initMedia:function(){this.htmlElement.media.src=this.status.src;if(this.options.preload!=="none"){this._html_load()}this._trigger(d.jPlayer.event.timeupdate)},_html_setAudio:function(g){var f=this;d.each(this.formats,function(h,i){if(f.html.support[i]&&g[i]){f.status.src=g[i];f.status.format[i]=true;f.status.formatType=i;return false}});this.htmlElement.media=this.htmlElement.audio;this._html_initMedia()},_html_setVideo:function(g){var f=this;d.each(this.formats,function(h,i){if(f.html.support[i]&&g[i]){f.status.src=g[i];f.status.format[i]=true;f.status.formatType=i;return false}});if(this.status.nativeVideoControls){this.htmlElement.video.poster=this._validString(g.poster)?g.poster:""}this.htmlElement.media=this.htmlElement.video;this._html_initMedia()},_html_resetMedia:function(){if(this.htmlElement.media){if(this.htmlElement.media.id===this.internal.video.id&&!this.status.nativeVideoControls){this.internal.video.jq.css({width:"0px",height:"0px"})}this.htmlElement.media.pause()}},_html_clearMedia:function(){if(this.htmlElement.media){this.htmlElement.media.src="";this.htmlElement.media.load()}},_html_load:function(){if(this.status.waitForLoad){this.status.waitForLoad=false;this.htmlElement.media.load()}clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(h){var f=this;this._html_load();this.htmlElement.media.play();if(!isNaN(h)){try{this.htmlElement.media.currentTime=h}catch(g){this.internal.htmlDlyCmdId=setTimeout(function(){f.play(h)},100);return}}this._html_checkWaitForPlay()},_html_pause:function(h){var f=this;if(h>0){this._html_load()}else{clearTimeout(this.internal.htmlDlyCmdId)}this.htmlElement.media.pause();if(!isNaN(h)){try{this.htmlElement.media.currentTime=h}catch(g){this.internal.htmlDlyCmdId=setTimeout(function(){f.pause(h)},100);return}}if(h>0){this._html_checkWaitForPlay()}},_html_playHead:function(h){var f=this;this._html_load();try{if((typeof this.htmlElement.media.seekable==="object")&&(this.htmlElement.media.seekable.length>0)){this.htmlElement.media.currentTime=h*this.htmlElement.media.seekable.end(this.htmlElement.media.seekable.length-1)/100}else{if(this.htmlElement.media.duration>0&&!isNaN(this.htmlElement.media.duration)){this.htmlElement.media.currentTime=h*this.htmlElement.media.duration/100}else{throw"e"}}}catch(g){this.internal.htmlDlyCmdId=setTimeout(function(){f.playHead(h)},100);return}if(!this.status.waitForLoad){this._html_checkWaitForPlay()}},_html_checkWaitForPlay:function(){if(this.status.waitForPlay){this.status.waitForPlay=false;if(this.css.jq.videoPlay.length){this.css.jq.videoPlay.hide()}if(this.status.video){this.internal.poster.jq.hide();this.internal.video.jq.css({width:this.status.width,height:this.status.height})}}},_html_volume:function(f){if(this.html.audio.available){this.htmlElement.audio.volume=f}if(this.html.video.available){this.htmlElement.video.volume=f}},_html_mute:function(f){if(this.html.audio.available){this.htmlElement.audio.muted=f}if(this.html.video.available){this.htmlElement.video.muted=f}},_flash_setAudio:function(h){var f=this;try{d.each(this.formats,function(i,j){if(f.flash.support[j]&&h[j]){switch(j){case"m4a":case"fla":f._getMovie().fl_setAudio_m4a(h[j]);break;case"mp3":f._getMovie().fl_setAudio_mp3(h[j]);break;case"rtmpa":f._getMovie().fl_setAudio_rtmp(h[j]);break}f.status.src=h[j];f.status.format[j]=true;f.status.formatType=j;return false}});if(this.options.preload==="auto"){this._flash_load();this.status.waitForLoad=false}}catch(g){this._flashError(g)}},_flash_setVideo:function(h){var f=this;try{d.each(this.formats,function(i,j){if(f.flash.support[j]&&h[j]){switch(j){case"m4v":case"flv":f._getMovie().fl_setVideo_m4v(h[j]);break;case"rtmpv":f._getMovie().fl_setVideo_rtmp(h[j]);break}f.status.src=h[j];f.status.format[j]=true;f.status.formatType=j;return false}});if(this.options.preload==="auto"){this._flash_load();this.status.waitForLoad=false}}catch(g){this._flashError(g)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"});this._flash_pause(NaN)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(f){this._flashError(f)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(f){this._flashError(f)}this.status.waitForLoad=false},_flash_play:function(g){try{this._getMovie().fl_play(g)}catch(f){this._flashError(f)}this.status.waitForLoad=false;this._flash_checkWaitForPlay()},_flash_pause:function(g){try{this._getMovie().fl_pause(g)
}catch(f){this._flashError(f)}if(g>0){this.status.waitForLoad=false;this._flash_checkWaitForPlay()}},_flash_playHead:function(g){try{this._getMovie().fl_play_head(g)}catch(f){this._flashError(f)}if(!this.status.waitForLoad){this._flash_checkWaitForPlay()}},_flash_checkWaitForPlay:function(){if(this.status.waitForPlay){this.status.waitForPlay=false;if(this.css.jq.videoPlay.length){this.css.jq.videoPlay.hide()}if(this.status.video){this.internal.poster.jq.hide();this.internal.flash.jq.css({width:this.status.width,height:this.status.height})}}},_flash_volume:function(f){try{this._getMovie().fl_volume(f)}catch(g){this._flashError(g)}},_flash_mute:function(f){try{this._getMovie().fl_mute(f)}catch(g){this._flashError(g)}},_getMovie:function(){return document[this.internal.flash.id]},_checkForFlash:function(g){var f=false;var i;if(window.ActiveXObject){try{i=new ActiveXObject(("ShockwaveFlash.ShockwaveFlash."+g));f=true}catch(j){}}else{if(navigator.plugins&&navigator.mimeTypes.length>0){i=navigator.plugins["Shockwave Flash"];if(i){var h=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1");if(h>=g){f=true}}}}return f},_validString:function(f){return(f&&typeof f==="string")},_limitValue:function(h,g,f){return(h<g)?g:((h>f)?f:h)},_urlNotSetError:function(f){this._error({type:d.jPlayer.error.URL_NOT_SET,context:f,message:d.jPlayer.errorMsg.URL_NOT_SET,hint:d.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(f){var g;if(!this.internal.ready){g="FLASH"}else{g="FLASH_DISABLED"}this._error({type:d.jPlayer.error[g],context:this.internal.flash.swf,message:d.jPlayer.errorMsg[g]+f.message,hint:d.jPlayer.errorHint[g]});this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(f){this._trigger(d.jPlayer.event.error,f);if(this.options.errorAlerts){this._alert("Error!"+(f.message?"\n\n"+f.message:"")+(f.hint?"\n\n"+f.hint:"")+"\n\nContext: "+f.context)}},_warning:function(f){this._trigger(d.jPlayer.event.warning,e,f);if(this.options.warningAlerts){this._alert("Warning!"+(f.message?"\n\n"+f.message:"")+(f.hint?"\n\n"+f.hint:"")+"\n\nContext: "+f.context)}},_alert:function(f){alert("jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+f)},_emulateHtmlBridge:function(){var f=this;d.each(d.jPlayer.emulateMethods.split(/\s+/g),function(h,g){f.internal.domNode[g]=function(i){f[g](i)}});d.each(d.jPlayer.event,function(h,i){var g=true;d.each(d.jPlayer.reservedEvent.split(/\s+/g),function(k,j){if(j===h){g=false;return false}});if(g){f.element.bind(i+".jPlayer.jPlayerHtml",function(){f._emulateHtmlUpdate();var j=document.createEvent("Event");j.initEvent(h,false,true);f.internal.domNode.dispatchEvent(j)})}})},_emulateHtmlUpdate:function(){var f=this;d.each(d.jPlayer.emulateStatus.split(/\s+/g),function(h,g){f.internal.domNode[g]=f.status[g]});d.each(d.jPlayer.emulateOptions.split(/\s+/g),function(h,g){f.internal.domNode[g]=f.options[g]})},_destroyHtmlBridge:function(){var f=this;this.element.unbind(".jPlayerHtml");var g=d.jPlayer.emulateMethods+" "+d.jPlayer.emulateStatus+" "+d.jPlayer.emulateOptions;d.each(g.split(/\s+/g),function(j,h){delete f.internal.domNode[h]})}};d.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"};d.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+d.jPlayer.prototype.version.script+" needs Jplayer.swf version "+d.jPlayer.prototype.version.needFlash+" but found "};d.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."};d.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"};d.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."};
d.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}})(jQuery);(function(f){var c={},l,n,p,k=f.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),b=false;f.tooltip={blocked:false,defaults:{delay:200,fade:false,showURL:true,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){f.tooltip.blocked=!f.tooltip.blocked}};f.fn.extend({tooltip:function(q){q=f.extend({},f.tooltip.defaults,q);i(q);return this.each(function(){f.data(this,"tooltip",q);this.tOpacity=c.parent.css("opacity");this.tooltipText=this.title;f(this).removeAttr("title");this.alt=""}).mouseover(m).mouseout(g).click(g)},fixPNG:k?function(){return this.each(function(){var q=f(this).css("backgroundImage");if(q.match(/^url\(["']?(.*\.png)["']?\)$/i)){q=RegExp.$1;f(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+q+"')"}).each(function(){var r=f(this).css("position");if(r!="absolute"&&r!="relative"){f(this).css("position","relative")}})}})}:function(){return this},unfixPNG:k?function(){return this.each(function(){f(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){f(this)[f(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}});function i(q){if(c.parent){return}c.parent=f('<div id="'+q.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide();if(f.fn.bgiframe){c.parent.bgiframe()}c.title=f("h3",c.parent);c.body=f("div.body",c.parent);c.url=f("div.url",c.parent)}function d(q){return f.data(q,"tooltip")}function h(q){if(d(this).delay){p=setTimeout(o,d(this).delay)}else{o()}b=!!d(this).track;f(document.body).bind("mousemove",e);e(q)}function m(){if(f.tooltip.blocked||this==l||(!this.tooltipText&&!d(this).bodyHandler)){return}l=this;n=this.tooltipText;if(d(this).bodyHandler){c.title.hide();var t=d(this).bodyHandler.call(this);if(t.nodeType||t.jquery){c.body.empty().append(t)}else{c.body.html(t)}c.body.show()}else{if(d(this).showBody){var s=n.split(d(this).showBody);c.title.html(s.shift()).show();c.body.empty();for(var r=0,q;(q=s[r]);r++){if(r>0){c.body.append("<br/>")}c.body.append(q)}c.body.hideWhenEmpty()}else{c.title.html(n).show();c.body.hide()}}if(d(this).showURL&&f(this).url()){c.url.html(f(this).url().replace("http://","")).show()}else{c.url.hide()}c.parent.addClass(d(this).extraClass);if(d(this).fixPNG){c.parent.fixPNG()}h.apply(this,arguments)}function o(){p=null;if((!k||!f.fn.bgiframe)&&d(l).fade){if(c.parent.is(":animated")){c.parent.stop().show().fadeTo(d(l).fade,l.tOpacity)}else{c.parent.is(":visible")?c.parent.fadeTo(d(l).fade,l.tOpacity):c.parent.fadeIn(d(l).fade)}}else{c.parent.show()}e()}function e(t){if(f.tooltip.blocked){return}if(t&&t.target.tagName=="OPTION"){return}if(!b&&c.parent.is(":visible")){f(document.body).unbind("mousemove",e)}if(l==null){f(document.body).unbind("mousemove",e);return}c.parent.removeClass("viewport-right").removeClass("viewport-bottom");var w=c.parent[0].offsetLeft;var u=c.parent[0].offsetTop;if(t){w=t.pageX+d(l).left;u=t.pageY+d(l).top;var r="auto";if(d(l).positionLeft){r=f(window).width()-w;w="auto"}c.parent.css({left:w,right:r,top:u})}var q=j(),s=c.parent[0];if(q.x+q.cx<s.offsetLeft+s.offsetWidth){w-=s.offsetWidth+20+d(l).left;c.parent.css({left:w+"px"}).addClass("viewport-right")}if(q.y+q.cy<s.offsetTop+s.offsetHeight){u-=s.offsetHeight+20+d(l).top;c.parent.css({top:u+"px"}).addClass("viewport-bottom")}}function j(){return{x:f(window).scrollLeft(),y:f(window).scrollTop(),cx:f(window).width(),cy:f(window).height()}}function g(s){if(f.tooltip.blocked){return}if(p){clearTimeout(p)}l=null;var r=d(this);function q(){c.parent.removeClass(r.extraClass).hide().css("opacity","")}if((!k||!f.fn.bgiframe)&&r.fade){if(c.parent.is(":animated")){c.parent.stop().fadeTo(r.fade,0,q)}else{c.parent.stop().fadeOut(r.fade,q)}}else{q()}if(d(this).fixPNG){c.parent.unfixPNG()}}})(jQuery);(function(f,d,h){var e="thavis360",b=d.document,g={imgTotal:1,imgFormat:".jpg",imgStart:1,autoplay:true,clicked:false,zClicked:false,imgPointer:0,stepping:30,spinDirection:"forward",spinInterval:500,targetSpinInterval:20,loaded:false,navPosition:"left",descPosition:"right",lang:"en",video:{},ytPlayer:{},ytvCount:0,vPlayer:{},vvCount:0,swfPath:"core/swf",loadYTAPI:false,loadVimeoAPI:false,ytapiLoaded:false,vapiLoaded:false,videoWidth:320,videoHeight:320,animDuration:{},animDelay:{},anchorTarget:{},features:true,serverLocation:"",hsWidth:20,hsHeight:20,hsFadeInDuration:600,hsObject:{},debug:false};function c(k,j){this.element=k;this.$element=f(k);this.options=f.extend({},g,j);var i=this.options;this._defaults=g;this._name=e;this.init()}c.prototype={init:function(){var i=this;this.addMarkup();var k=this.$element.find(".thavis360");
var l=k.find(".viewer");k.append('');this.preload();k.find(".button.t-zoom").bind("click",function(m){if(!ZOpen){k.find(".backlink").css("display","block");if(!i.options.debug){i.toggleButton(this);if(!i.options.zClicked){i.toggleViewer(this,"off");clearInterval(i.options.spinHandle);i.options.spinHandle=0;i.options.zClicked=true;if(i.options.zoomMode=="follow"||i.options.zoomMode=="move"){f(i.element).find(".t-sb-nav-full").css("display","block");f(".t-sb-container").remove();SCurrent=i;TShadowbox.init({fURL:f(i.element).find("#"+i.options.imgPointer).parent().attr("href"),customContainer:k[0],handleOversize:"drag",skipSetup:true,viewportPadding:1,zoomMode:i.options.zoomMode,onClose:function(){SCurrent.toggleButton(f(this.customContainer).find(".button.t-zoom"),"off");SCurrent.options.zClicked=false;this.customContainer=SCurrent.element;ZOpen=false}});TShadowbox.open({content:f(i.element).find("#"+i.options.imgPointer).parent().attr("href"),player:"img"});ZOpen=true}else{if(i.options.zoom!==h&&i.options.zoom.data("zoom")!==null){i.options.zoom.data("zoom").destroy()}if(f(i.element).find("#"+i.options.imgPointer).css("display")=="block"||f(i.element).find("#"+i.options.imgPointer).css("display")=="inline"){i.options.zoom=f(i.element).find("#"+i.options.imgPointer).parent().CloudZoom({softFocus:false,tint:true,showTitle:false})}else{if(f(i.element).find("#"+(i.options.imgPointer-1)).css("display")=="block"||f(i.element).find("#"+(i.options.imgPointer-1)).css("display")=="inline"){i.options.zoom=f(i.element).find("#"+(i.options.imgPointer-1)).parent().CloudZoom({softFocus:false,tint:true,showTitle:false})}else{i.options.zoom=f(i.element).find("#"+(i.options.imgPointer+1)).parent().CloudZoom({softFocus:false,tint:true,showTitle:false})}}}}else{i.options.zClicked=false;if(i.options.zoom!==h&&i.options.zoom.data("zoom")!==null){i.options.zoom.data("zoom").destroy()}i.options.zoom.find(".tint").remove()}}}else{var n=f(this);TShadowbox.close(function(){setTimeout(function(){n.trigger("click")},500)})}});k.find(".t-play-pause").bind("click",function(m){k.find(".backlink").css("display","block");if(!i.options.debug){i.toggleButton(this);i.options.zClicked=false;if(i.options.zoom!==h&&i.options.zoom.data("zoom")!==null){i.options.zoom.data("zoom").destroy()}if(i.options.spinHandle){if(i.options.features){i.options.$hotspot.fadeIn(i.options.hsFadeInDuration)}clearInterval(i.options.spinHandle);i.options.spinHandle=0}else{i.toggleViewer(this,"off");i.startSpin()}return false}});l.find(".cloud-zoom").bind("click",function(m){k.find(".backlink").css("display","block");if(!i.options.debug){m.preventDefault()}});l.bind("mousedown touchstart",function(m){if(!i.options.debug){if(!i.options.zClicked){if(m.target.className=="hs-anchor"){k.find("#t-fb-"+f(m.target).parent().attr("data-anchor")).trigger("click")}if(m.type=="touchstart"){i.options.currPos=d.event.touches[0].pageX}else{i.options.currPos=m.pageX}clearInterval(i.options.spinHandle);i.options.spinHandle=0;i.options.clicked=true;i.toggleButton(k.find(".button.t-play-pause"),"off");f(b).bind("mousemove touchmove",{__self:i,_viewer:l},i.moveHandler);return false}}});f(b).bind("mouseup touchend",function(m){if(!i.options.debug){if(!i.options.zClicked){if(m.type=="mouseup"){if(i.options.features){i.options.$hotspot.fadeIn(i.options.hsFadeInDuration)}}else{if(m.target.className=="hidden-img"){if(i.options.features){i.options.$hotspot.fadeIn(i.options.hsFadeInDuration)}}}f(b).unbind("mousemove touchmove",this.moveHandler);i.options.clicked=false}}});if(i.options.debug){var j=k.find(".debug");j.find(".forward").bind("click",function(){i.stepForward()});j.find(".backward").bind("click",function(){i.stepBackward()})}},moveHandler:function(l){var k=l.data.__self;var i=l.data._viewer;if(!k.options.zClicked){var j;if(l.type=="touchmove"){j=d.event.targetTouches[0].pageX}else{j=l.pageX}if(k.options.clicked){if(Math.abs(k.options.currPos-j)>=k.options.stepping){if(k.options.currPos-j>=k.options.stepping){k.stepForward()}else{k.stepBackward()}k.options.currPos=j}}}return false},addMarkup:function(){var k='<div class="thavis360 container"><div class="main-wrapper container"></div><div class="footer container"></div></div>';var i='';var p='<div class="main"></div>';var o='<div class="viewer"><div class="features"></div></div>';var m='<div class="description"><div class="header"></div></div>';var l='<div class="clearfix"></div>';this.$element.append(k);var n=this.$element.find(".thavis360");if(this.options.navPosition=="top"){n.find(".main-wrapper").append(i+l+p+l);n.find(".nav").addClass("horz")}else{if(this.options.navPosition=="bottom"){n.find(".main-wrapper").append(p+l+i+l);n.find(".nav").addClass("horz")
}else{if(this.options.navPosition=="left"){n.find(".main-wrapper").append(i+p+l)}else{if(this.options.navPosition=="right"){n.find(".main-wrapper").append(p+i+l)}}}}if(this.options.descPosition=="top"){n.find(".main").append(m+l+o+l)}else{if(this.options.descPosition=="bottom"){n.find(".main").append(o+l+m+l)}else{if(this.options.descPosition=="left"){n.find(".main").append(m+o+l)}else{if(this.options.descPosition=="right"){n.find(".main").append(o+m+l)}}}}if(this.options.debug){var j='<div class="debug container"><a class="forward"></a><input type="text" class="counter" readonly="readonly" /><a class="backward"></a><input type="text" class="img-name" readonly="readonly" /><div class="container-1"></div><div class="container-2"></div></div>';n.append(j)}},preload:function(){var k=this;var m=this.$element.find(".thavis360");var p=m.find(".viewer");var o=this.options.serverLocation+this.options.objDir+"/"+this.options.objDir+"_normal_";var n=this.options.serverLocation+this.options.objDir+"/"+this.options.objDir+"_zoom_";var l=0;var j=this.options.imgStart;for(var i=0;i<this.options.imgTotal;i++){f("<img />").attr({"class":"hidden-img",id:i,src:o+this.pad(i+j,3)+this.options.imgFormat,title:""}).appendTo(f("<a />").attr({"class":"cloud-zoom",id:"hs-"+(i+j),rel:"adjustX: 10, adjustY:-4, softFocus:true",href:n+this.pad(i+j,3)+this.options.imgFormat}).appendTo(p)).css("display","hidden").one("load",function(){l++;if(l==k.options.imgTotal){k.options.loaded=true;if(!k.options.debug){if(k.options.features){k.loadFeatures()}else{if(k.options.autoplay){k.startSpin()}else{k.showFirstImage()}}}else{k.loadFeatures()}}else{m.find(".thavis360-loading span").text("Loading image ("+l+"/"+k.options.imgTotal+")");k.options.loaded=false;if(!k.options.features){m.find(".thavis360-loading").remove()}}}).each(function(){if(this.complete){f(this).trigger("load")}})}},pad:function(j,i){return(j).toString().length<i?this.pad("0"+(j).toString(),i):(j).toString()},showFirstImage:function(){var i=this;var j=this.$element.find(".thavis360");var k=j.find(".viewer");k.find("#"+(i.options.imgPointer)).parent().css("display","block")},startSpin:function(){var i=this;var j=this.$element.find(".thavis360");var k=j.find(".viewer");i.toggleButton(j.find(".button.t-play-pause"),"on");this.options.spinHandle=setInterval(function(){if(i.options.spinDirection=="forward"){i.stepForward()}else{if(i.options.spinDirection=="backward"){i.stepBackward()}}},i.options.spinInterval)},stepForward:function(){var i=this;var j=this.$element.find(".thavis360");var k=j.find(".viewer");if(!i.options.debug&&i.options.features){i.options.$hotspot.css("display","none")}if(i.options.imgPointer<0){i.options.imgPointer=i.options.imgTotal-1;k.find("#"+(i.options.imgTotal-1)).parent().css("display","block");if(i.options.debug){j.find(".debug .img-name").val(k.find("#"+(i.options.imgTotal-1)).attr("src"))}k.find("#0").parent().css("display","none")}else{if(i.options.imgPointer==i.options.imgTotal-1){k.find("#0").parent().css("display","block");if(i.options.debug){j.find(".debug .img-name").val(k.find("#0").attr("src"))}k.find("#"+(i.options.imgTotal-1)).parent().css("display","none");i.options.imgPointer=0}else{i.options.imgPointer++;k.find("#"+(i.options.imgPointer)).parent().css("display","block");if(i.options.debug){j.find(".debug .img-name").val(k.find("#"+(i.options.imgPointer)).attr("src"))}k.find("#"+(i.options.imgPointer+1)).parent().css("display","none");k.find("#"+(i.options.imgPointer-1)).parent().css("display","none")}}if(i.options.debug){j.find(".debug .counter").val(i.options.imgPointer+i.options.imgStart);j.find(".debug .container-1").empty();f.each(i.options.hsObject,function(l){if(this[i.options.imgPointer+i.options.imgStart]!==h){j.find(".debug .container-1").append('<p class="d-anchor'+l+'"><strong>Anchor</strong> '+l+' <input class="d-checkbox" data-anchor-id="'+l+'" type="checkbox" checked="checked"></input> Position X: <input class="pos-container" value="'+this[i.options.imgPointer+i.options.imgStart]["x"]+'" readonly="readonly"></input> Y: <input class="pos-container" value="'+this[i.options.imgPointer+i.options.imgStart]["y"]+'" readonly="readonly"></input></p>')}else{j.find(".debug .container-1").append('<p class="d-anchor'+l+'"><strong>Anchor</strong> '+l+' <input class="d-checkbox" data-anchor-id="'+l+'" type="checkbox"></input> Position X: <input class="pos-container" value="Not Set" readonly="readonly"></input> Y: <input class="pos-container" value="Not Set" readonly="readonly"></input></p>')}});i.updatePosString()}},stepBackward:function(){var i=this;var k=this.$element.find(".thavis360");var l=k.find(".viewer");var j="";if(!i.options.debug&&i.options.features){i.options.$hotspot.css("display","none")}if(i.options.imgPointer==0){i.options.imgPointer=i.options.imgTotal-1;l.find("#"+(i.options.imgTotal-1)).parent().css("display","block");if(i.options.debug){k.find(".debug .img-name").val(l.find("#"+(i.options.imgTotal-1)).attr("src"))}l.find("#0").parent().css("display","none")
}else{if(i.options.imgPointer>i.options.imgTotal-1){l.find("#0").parent().css("display","block");if(i.options.debug){k.find(".debug .img-name").val(l.find("#0").attr("src"))}l.find("#"+(i.options.imgTotal-1)).parent().css("display","none");i.options.imgPointer=0}else{i.options.imgPointer--;l.find("#"+(i.options.imgPointer)).parent().css("display","block");if(i.options.debug){k.find(".debug .img-name").val(l.find("#"+(i.options.imgPointer)).attr("src"))}l.find("#"+(i.options.imgPointer+1)).parent().css("display","none");l.find("#"+(i.options.imgPointer-1)).parent().css("display","none")}}if(i.options.debug){k.find(".debug .counter").val(i.options.imgPointer+i.options.imgStart);k.find(".debug .container-1").empty();f.each(i.options.hsObject,function(m){if(this[i.options.imgPointer+i.options.imgStart]!==h){k.find(".debug .container-1").append('<p class="d-anchor'+m+'"><strong>Anchor</strong> '+m+' <input class="d-checkbox" data-anchor-id="'+m+'" type="checkbox" checked="checked"></input> Position X: <input class="pos-container" value="'+this[i.options.imgPointer+i.options.imgStart]["x"]+'" readonly="readonly"></input> Y: <input class="pos-container" value="'+this[i.options.imgPointer+i.options.imgStart]["y"]+'" readonly="readonly"></input></p>')}else{k.find(".debug .container-1").append('<p class="d-anchor'+m+'"><strong>Anchor</strong> '+m+' <input class="d-checkbox" data-anchor-id="'+m+'" type="checkbox"></input> Position X: <input class="pos-container" value="Not Set" readonly="readonly"></input> Y: <input class="pos-container" value="Not Set" readonly="readonly"></input></p>')}});i.updatePosString()}},updatePosString:function(){var i=this;var l=this.$element.find(".thavis360");var j=l.find(".debug .container-2");j.empty();var k="";f.each(i.options.hsObject,function(n,m){var o="";f.each(m,function(p,q){o+=p+":"+q.x+","+q.y+";"});if(o.slice(-1)==";"){o=o.slice(0,-1)}k+="<strong>Anchor "+n+"</strong><br/><textarea>"+o+"</textarea><br/>"});j.append(k)},loadFeatures:function(){var i=this;var l=this.$element.find(".thavis360");var n=l.find(".viewer");var o=l.find(".header");var j=l.find(".features");var k=l.find(".description");var m=l.find(".nav");f.ajaxSetup({cache:false});f.get(this.options.serverLocation+this.options.objDir+"/_"+this.options.objDir+"_object.xml").done(function(r){var q=f(r);q.find("description").each(function(){var s=f(this).find('language[id="'+i.options.lang+'"]');if(s.attr("h1_text")){o.append("<h1>"+s.attr("h1_text")+"</h1>")}if(s.attr("h2_text")){o.append("<h2>"+s.attr("h2_text")+"</h2>")}if(s.attr("h3_text")){o.append("<h3>"+s.attr("h3_text")+"</h3>")}if(s.attr("h4_text")){o.append("<h4>"+s.attr("h4_text")+"</h4>")}if(s.attr("h5_text")){o.append("<h5>"+s.attr("h5_text")+"</h5>")}o.append("<p>"+s.text()+"</p>");var t=true;f(this).find("image").each(function(){if(t){l.find(".main-wrapper").each(function(){f(this).find("div").last().before('<div class="logos"></div>')});t=false}var v=i.options.serverLocation+f(this).attr("file").replace("[path]",i.options.objDir+"/").replace("[object]",i.options.objDir);var u="";if(f(this).attr("info_text")){u=f("<p/>").append(f(this).attr("info_text")).addClass("t-tooltip")}l.find(".logos").append('<a id="t-logo-'+f(this).attr("id")+'" href="'+f(this).attr("link_url")+'" target="'+f(this).attr("link_target")+'"><img id="t-logo-img-'+f(this).attr("id")+'" src="'+v+'"></img></a>');if(u!=""){l.find("#t-logo-img-"+f(this).attr("id")).tooltip({bodyHandler:function(){return u},showURL:false,left:-350})}})});q.find("anchor").each(function(){var s=f(this).find('language[id="'+i.options.lang+'"]');var w=s.attr("tooltip");var u=s.text();var z=f(this).attr("id");i.options.anchorTarget[z]=f(this).attr("target");var v={};if(f(this).attr("hotspot")!=""){var y=f(this).attr("hotspot");var t=y.split(";");f.each(t,function(){var C=this.split(":");var D=C[1].split(",");if(i.options.debug){v[C[0]]={};v[C[0]]["x"]=D[0];v[C[0]]["y"]=D[1];n.find("#hs-"+C[0]).append('<div class="hs-item" data-anchor="'+z+'" style="left:'+(D[0]-i.options.hsWidth/2)+"px;top:"+(D[1]-i.options.hsHeight/2)+'px;"><a class="hs-anchor" title="Anchor '+z+'"></a></div>')}else{n.find("#hs-"+C[0]).append('<div class="hs-item" data-anchor="'+z+'" style="left:'+(D[0]-i.options.hsWidth/2)+"px;top:"+(D[1]-i.options.hsHeight/2)+'px;"><a class="hs-anchor" title="'+w+'"></a></div>')}})}if(i.options.debug){i.options.hsObject[z]=v}var x=i.options.serverLocation+f(this).attr("thumb").replace("[path]",i.options.objDir+"/").replace("[object]",i.options.objDir);m.append('<a title="'+w+'" id="t-fb-'+z+'" class="button t-feature" style="background-image:url('+x+')"></a>');j.append('<div id="t-fv-'+z+'" class="t-feature-viewer"></div>');var B=i.options.serverLocation+f(this).attr("zoomswf").replace("[path]",i.options.objDir+"/").replace("[object]",i.options.objDir);var A=B.substr(B.length-3,3);if(A=="xml"){f.get(B).done(function(D){var C=f(D);C.find("playlist").each(function(){i.options.animDuration[z]={};i.options.animDelay[z]={};
f(this).find("image").each(function(I){var H=i.options.serverLocation+f(this).attr("filename").replace("[path]",i.options.objDir+"/").replace("[object]",i.options.objDir);j.find("#t-fv-"+z).addClass("t-image-wrapper").append('<img class="t-image" src="'+H+'"></img>');if(f(this).attr("duration")!=""){i.options.animDuration[z][I]=f(this).attr("duration")}else{i.options.animDuration[z][I]=0}if(f(this).attr("delay")!=""){i.options.animDelay[z][I]=f(this).attr("delay")}else{i.options.animDelay[z][I]=0}});var F=true;f(this).find("video").each(function(){if(f(this).attr("filename")!=""){if(f(this).attr("type")=="youtube"){var H='<div class="ytvideo" id="ytvideo-'+z+'" data-id="'+z+'" data-filename="'+f(this).attr("filename")+'"></div>';j.find("#t-fv-"+z).addClass("t-video-wrapper").append(H);i.options.ytvCount+=1}else{if(f(this).attr("type")=="vimeo"){var H='<iframe width="'+i.options.videoWidth+'" height="'+i.options.videoHeight+'" class="vvideo" id="vvideo-'+z+'" data-id="'+z+'" src="http://player.'+f(this).attr("type")+".com/video/"+f(this).attr("filename")+"?api=1&player_id=vvideo-"+z+'" frameborder="0"></iframe>';j.find("#t-fv-"+z).addClass("t-video-wrapper").append(H);i.options.vvCount+=1}else{if(F){var H='<div id="jp_container_'+z+'" class="jp-video jp-video-360p"><div class="jp-type-single"><div id="jquery_jplayer_'+z+'" class="jp-jplayer"></div><div id="jp_interface_'+z+'" class="jp-interface"><ul class="jp-controls"><li><a href="#" class="jp-play" tabindex="1">play</a></li><li><a href="#" class="jp-pause" tabindex="1">pause</a></li><li><a href="#" class="jp-stop" tabindex="1">stop</a></li></ul><div class="jp-progress"><div class="jp-seek-bar"><div class="jp-play-bar"></div></div></div></div></div></div>';j.find("#t-fv-"+z).addClass("t-video-wrapper").append(H);F=false}var I=i.options.serverLocation+f(this).attr("filename").replace("[path]",i.options.objDir+"/").replace("[object]",i.options.objDir);i.options.video[z+f(this).attr("type")]=I}}}});if(i.options.loadYTAPI){d.onYouTubePlayerAPIReady=function(){j.find(".ytvideo").each(function(){l.find(".thavis360-loading span").text("Loading YouTube Video");i.options.ytPlayer[f(this).attr("data-id")]=new YT.Player("ytvideo-"+f(this).attr("data-id"),{videoId:f(this).attr("data-filename"),width:i.options.videoWidth,height:i.options.videoHeight,events:{onReady:function(){i.options.ytvCount-=1;if(i.options.ytvCount==0&&i.options.vvCount==0){l.find(".thavis360-loading").remove();j.css("visibility","hidden");j.css("z-index","0");j.css("opacity","0");j.find(".t-feature-viewer").each(function(){f(this).css("visibility","hidden");f(this).find("iframe.ytvideo").css("opacity",0);f(this).find("iframe.vvideo").css("opacity",0)})}}}})})};if(!i.options.ytapiLoaded){l.find(".thavis360-loading span").text("Loading YouTube API");var E=b.createElement("script");E.src="https://www.youtube.com/iframe_api";var G=b.getElementsByTagName("script")[0];G.parentNode.insertBefore(E,G);i.options.ytapiLoaded=true}}if(i.options.loadVimeoAPI){if(!i.options.vapiLoaded){l.find(".thavis360-loading span").text("Loading Vimeo API");var E=b.createElement("script");E.src="http://a.vimeocdn.com/js/froogaloop2.min.js?_"+new Date().getTime();var G=b.getElementsByTagName("script")[0];G.parentNode.insertBefore(E,G);E.onreadystatechange=function(){if(this.readyState=="loaded"){i.vimeoLoaded()}};f(E).bind("load",i.vimeoLoaded);i.vimeoLoaded=function(){if(!i.options.vapiLoaded){j.find(".vvideo").each(function(){l.find(".thavis360-loading span").text("Loading Vimeo Video");i.options.vPlayer[f(this).attr("data-id")]=$f(this)});f.each(i.options.vPlayer,function(){this.addEvent("ready",function(){i.options.vvCount-=1;if(i.options.ytvCount==0&&i.options.vvCount==0){l.find(".thavis360-loading").remove();j.css("visibility","hidden");j.css("z-index","0");j.css("opacity","0");j.find(".t-feature-viewer").each(function(){f(this).css("visibility","hidden");f(this).find("iframe.vvideo").css("opacity",0);f(this).find("iframe.ytvideo").css("opacity",0)})}})});l.find(".thavis360-loading").remove()}i.options.vapiLoaded=true}}}})}).fail(function(){})}else{if(A=="jpg"||A=="png"||A=="peg"){j.find("#t-fv-"+z).addClass("t-image-wrapper").append('<img class="t-image" src="'+B+'"></img>')}}k.append('<div id="t-fd-'+f(this).attr("id")+'" class="t-feature-description">'+u+"</div>")});if(!i.options.loadYTAPI&&!i.options.loadVimeoAPI){j.css("visibility","hidden");j.css("z-index","0");j.css("opacity","0");l.find(".thavis360-loading").remove()}m.find(".button.t-feature").bind("click",function(){var w=this;if(!i.options.debug){if(i.options.animHandle){clearTimeout(i.options.animHandle);i.options.animHandle=0}f.jPlayer.pause();f.each(i.options.ytPlayer,function(){this.pauseVideo()});f.each(i.options.vPlayer,function(){this.api("pause")});if(!f(this).hasClass("on")){l.find(".backlink").css("display","none");clearInterval(i.options.spinHandle);i.options.spinHandle=0;i.options.zClicked=false;if(i.options.zoom!==h&&i.options.zoom.data("zoom")!==null){i.options.zoom.data("zoom").destroy()
}var s=f(this).attr("id").replace("t-fb-","");var v=parseInt(i.options.anchorTarget[s]);if(v==0){i.stopFeatures();i.toggleViewer(w)}else{if(!i.options.debug&&i.options.imgPointer!=v){i.stopFeatures();if(v>i.options.imgPointer){var u=i.options.imgPointer;var t=setInterval(function(){i.stepForward();u++;if(u>=v){clearInterval(t);if(i.options.spinHandle){clearInterval(i.options.spinHandle);i.options.spinHandle=0}i.toggleViewer(w)}},i.options.targetSpinInterval)}else{var u=i.options.imgPointer;var t=setInterval(function(){i.stepBackward();u--;if(u<=v){clearInterval(t);if(i.options.spinHandle){clearInterval(i.options.spinHandle);i.options.spinHandle=0}i.toggleViewer(w)}},i.options.targetSpinInterval)}}else{if(i.options.spinHandle){clearInterval(i.options.spinHandle);i.options.spinHandle=0}i.toggleViewer(this)}}}else{i.stopFeatures();l.find(".backlink").css("display","block")}i.toggleButton(this)}});i.options.$hotspot=n.find(".hs-item");if(i.options.debug){i.stepForward();i.stepBackward();var p=l.find(".debug .container-1");i.options.$hotspot.css("display","block");i.options.$hotspot.draggable({containment:"parent",stop:function(){var t=f(this).attr("data-anchor");var s=(parseFloat(f(this).css("left"))+(i.options.hsWidth/2)).toFixed(2);var u=(parseFloat(f(this).css("top"))+(i.options.hsHeight/2)).toFixed(2);i.options.hsObject[t][parseInt(f(this).siblings(".hidden-img").attr("id"))+i.options.imgStart]["x"]=s;i.options.hsObject[t][parseInt(f(this).siblings(".hidden-img").attr("id"))+i.options.imgStart]["y"]=u;p.find(".d-anchor"+t).empty();p.find(".d-anchor"+t).append("<strong>Anchor</strong> "+t+' <input class="d-checkbox" data-anchor-id="'+t+'" type="checkbox" checked="checked"></input> Position X: <input class="pos-container" value="'+s+'" readonly="readonly"></input> Y: <input class="pos-container" value="'+u+'" readonly="readonly"></input>');i.updatePosString()}});f(".d-checkbox").live("click",function(t){var s=l.find(".counter").val();var u=f(this).attr("data-anchor-id");if(f(this).is(":checked")){f('<div class="hs-item" data-anchor="'+u+'" style="left: 0px;top: 0px;display: block;"><a class="hs-anchor" title="anchor '+u+'"></a></div>').appendTo(l.find("#hs-"+s));l.find("#hs-"+s).children(".hs-item").each(function(){if(f(this).attr("data-anchor")==u){f(this).draggable({containment:"parent",stop:function(){var w=f(this).attr("data-anchor");var v=(parseFloat(f(this).css("left"))+(i.options.hsWidth/2)).toFixed(2);var z=(parseFloat(f(this).css("top"))+(i.options.hsHeight/2)).toFixed(2);i.options.hsObject[w][parseInt(f(this).siblings(".hidden-img").attr("id"))+i.options.imgStart]["x"]=v;i.options.hsObject[w][parseInt(f(this).siblings(".hidden-img").attr("id"))+i.options.imgStart]["y"]=z;p.find(".d-anchor"+w).empty();p.find(".d-anchor"+w).append("<strong>Anchor</strong> "+w+' <input class="d-checkbox" data-anchor-id="'+w+'" type="checkbox" checked="checked"></input> Position X: <input class="pos-container" value="'+v+'" readonly="readonly"></input> Y: <input class="pos-container" value="'+z+'" readonly="readonly"></input>');i.updatePosString()}})}});i.options.hsObject[u][s]={};i.options.hsObject[u][s]["x"]=(parseFloat(i.options.hsWidth/2)).toFixed(2);i.options.hsObject[u][s]["y"]=(parseFloat(i.options.hsHeight/2)).toFixed(2);i.updatePosString()}else{l.find("#hs-"+s).children(".hs-item").each(function(){if(f(this).attr("data-anchor")==u){f(this).draggable("destroy");f(this).remove()}delete i.options.hsObject[u][s]});i.updatePosString()}})}else{if(i.options.autoplay){i.startSpin()}else{i.showFirstImage()}}}).fail(function(){})},toggleViewer:function(k,o){var s=this;var p=this.$element.find(".thavis360");var j=p.find(".features");var t=p.find(".description");if(typeof o===h||typeof o==="undefined"){t.find(".header").css("visibility","hidden");var r=f(k).attr("id").replace("t-fb-","");j.css("visibility","visible");j.css("opacity","1");j.css("z-index","10000");j.find(".t-feature-viewer").not(j.find("#t-fv-"+r)).each(function(){f(this).css("visibility","hidden");f(this).css("z-index","10001");f(this).find("iframe.ytvideo").css("opacity",0);f(this).find("iframe.vvideo").css("opacity",0)});var n=j.find("#t-fv-"+r);n.css("visibility","visible");n.css("z-index","10002");t.find(".t-feature-description").not(t.find("#t-fd-"+r)).each(function(){f(this).css("display","none")});var m=t.find("#t-fd-"+r);m.css("display","block");if(n.hasClass("t-image-wrapper")){var l=n.find("img"),q=0;if(l.length>1){l.css("display","none");function i(){s.options.animHandle=setTimeout(i,(s.options.animDuration[r][q]*1000)+(s.options.animDelay[r][q]*1000));l.eq(q).fadeIn(s.options.animDuration[r]*1000,function(){if(q==0){l.eq(l.length-1).css("display","none")}q++;if(q>=l.length){q=0;l.not(l.eq(l.length-1)).css("display","none")}})}i()}}else{if(n.hasClass("t-video-wrapper")){n.find("iframe.ytvideo").css("opacity",1);n.find("iframe.vvideo").css("opacity",1);n.find(".jp-jplayer").jPlayer({solution:"html, flash",swfPath:s.options.swfPath,supplied:"m4v, ogv, webmv, flv",wmode:"window",size:{width:s.options.videoWidth+"px",height:s.options.videoHeight+"px"},ready:function(u){f(this).jPlayer("setMedia",{m4v:s.options.video[r+"mp4"],ogv:s.options.video[r+"ogv"],webmv:s.options.video[r+"webm"],flv:s.options.video[r+"flv"],poster:s.options.video[r+"jpg"]}).jPlayer("play")
},play:function(u){},ended:function(u){},pause:function(u){},cssSelectorAncestor:"#jp_interface_"+r,errorAlerts:false,warningAlerts:false});n.find(".jp-controls").each(function(){f(this).find("a.jp-play").bind("touchstart",function(u){n.find(".jp-jplayer").jPlayer("play")});f(this).find("a.jp-pause").bind("touchstart",function(u){n.find(".jp-jplayer").jPlayer("pause")});f(this).find("a.jp-stop").bind("touchstart",function(u){n.find(".jp-jplayer").jPlayer("stop")})})}}}else{if(o=="off"){s.stopFeatures()}}},toggleButton:function(k,j){var i=this;var l=this.$element.find(".thavis360");if(typeof j===h||typeof j==="undefined"){if(!f(k).hasClass("on")){l.find(".nav .button").not(f(k)).each(function(){f(this).removeClass("on")});f(k).addClass("on")}else{f(k).removeClass("on")}}else{if(j=="on"){if(!f(k).hasClass("on")){f(k).addClass("on")}}else{if(j=="off"){if(f(k).hasClass("on")){f(k).removeClass("on")}}}}},stopFeatures:function(){var i=this;var l=this.$element.find(".thavis360");var j=l.find(".features");var k=l.find(".description");k.find(".header").css("visibility","visible");if(i.options.animHandle){clearTimeout(i.options.animHandle);i.options.animHandle=0}j.css("visibility","hidden");j.css("z-index","0");j.css("opacity","0");j.find(".t-feature-viewer").each(function(){f(this).css("visibility","hidden");f(this).find("iframe.ytvideo").css("opacity",0);f(this).find("iframe.vvideo").css("opacity",0)});f.jPlayer.pause();f.each(i.options.ytPlayer,function(){this.pauseVideo()});f.each(i.options.vPlayer,function(){this.api("pause")});k.find(".t-feature-description").each(function(){f(this).css("display","none")})}};f.fn[e]=function(i){return this.each(function(){if(!f.data(this,"plugin_"+e)){f.data(this,"plugin_"+e,new c(this,i))}})}}(jQuery,window));

/* This Script uses shadowbox:

Shadowbox.js Commercial License version 1.0

Under the terms of this license, the licensee is granted the following privileges:

  - The right to use the library as part of a website or application that is
    used for commercial purposes

  - The right to modify the library to suit his purpose.

Under no circumstance is the licensee permitted to redistribute the source code,
images, or documentation contained in the library. All redistribution rights
remain with the copyright holder unless specific prior written permission is
obtained.

Under no circumstance shall this copyright notice or list of conditions be
modified or removed from the code distribution in either source or binary form.

This software is provided by the copyright holder and contributors "as is" and
any express or implied warranties, including, but not limited to, the implied
warranties of merchantability and fitness for a particular purpose are disclaimed.

In no event shall the copyright holder or contributors be liable for any direct,
indirect, incidental, special, exemplary, or consequential damages (including, but
not limited to, procurement of substitute goods or services; loss of use, data, or
profits; or business interruption) however caused and on any theory of liability,
whether in contract, strict liability, or tort (including negligence or otherwise)
arising in any way out of the use of this software, even if advised of the
possibility of such damage.*/