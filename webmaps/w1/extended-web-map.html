<!--  A basic web map. -->
<!-- Leaflet Guide: http://leafletjs.com/examples/quick-start/ -->
<!-- Carto Base maps: http://bl.ocks.org/Xatpy/raw/854297419bd7eb3421d0/ -->

<!DOCTYPE html>
<html lang="en">

<head>

    <style>
        body { margin: 0; padding: 0; font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif; }
        html { position: absolute; top: 0; bottom: 0; width: 100%; }
        header{ margin: 0 auto; width: 800px; text-align: center; }
        #mapid { width: 800px; height: 500px; margin: 10px auto; }
        .popup div:nth-child(1){ background:khaki }
        /*.leaflet-tooltip.tooltip { background-color: ivory;}*/
    </style>

    <title> Extended Layer </title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ=="
        crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log=="
        crossorigin=""></script>
</head>

<body>
    <header>
        <h3>Airport Network Map</h3>
    </header>
    <div id="mapid"> </div>
    <script>

        // Map Initiation
        var map = L.map('mapid').setView([40.712775, -74.005973], 9);

        // Layer tile: openstreetmap
        L.tileLayer('https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png', {}).addTo(map);

        L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
            attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
            center: [40.712775, -74.005973],
            maxZoom: 13,
            id: 'mapbox.streets',
            accessToken: 'pk.eyJ1IjoicGFydmV6ayIsImEiOiJjamJnMDJ2cmEyeHZxMzRwZXJsOG16N3JsIn0.UrrntK0_M0WHR1t8NYW-aA'
        }).addTo(map);

        // Create Popup
        function createPopup(name, latlng) {

            var latlng = L.latLng(latlng[0], latlng[1]);
            var nj_name = name;

            var popupContent = L.popup({
                maxWidth: 150,
                className: 'popup'
            })
                .setLatLng(latlng)
                .setContent(name);
            
            return popupContent;
        }
        
        // City: Newark airport
        var nj_city = L.marker([40.735657, -74.172367]).addTo(map);

        nj_city
        .bindPopup(createPopup(
            "<p>Newark Liberty International Airport (EWR)</p>", 
            [50.5, 30.5])
        )
        .openPopup();
        
        //Tooltip
        nj_city.bindTooltip('Air Delta Terminal ', {
            direction: 'left',
            opacity: 0.7,
            className: 'tooltip',
            sticky: true
            }).openTooltip();

    </script>
</body>

</html>