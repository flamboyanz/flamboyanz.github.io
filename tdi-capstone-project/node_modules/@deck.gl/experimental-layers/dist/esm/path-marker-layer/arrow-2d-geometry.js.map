{"version":3,"sources":["../../../src/path-marker-layer/arrow-2d-geometry.js"],"names":["Geometry","Arrow2DGeometry","opts","Object","assign","attributes","getArrowAttributes","length","headSize","tailWidth","tailStart","texCoords","normals","positions","Array","i","i3","Float32Array"],"mappings":"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","sourcesContent":["import {Geometry} from 'luma.gl';\n\nexport default class Arrow2DGeometry extends Geometry {\n  constructor(opts = {}) {\n    super(\n      Object.assign({}, opts, {\n        attributes: getArrowAttributes(opts)\n      })\n    );\n  }\n}\n\nfunction getArrowAttributes({length = 1, headSize = 0.2, tailWidth = 0.05, tailStart = 0.05}) {\n  const texCoords = [\n    // HEAD\n    0.5,\n    1.0,\n    0,\n    0.5 - headSize / 2,\n    1.0 - headSize,\n    0,\n    0.5 + headSize / 2,\n    1.0 - headSize,\n    0,\n\n    0.5 - tailWidth / 2,\n    tailStart,\n    0,\n    0.5 + tailWidth / 2,\n    1.0 - headSize,\n    0,\n    0.5 + tailWidth / 2,\n    tailStart,\n    0,\n\n    0.5 - tailWidth / 2,\n    tailStart,\n    0,\n    0.5 - tailWidth / 2,\n    1.0 - headSize,\n    0,\n    0.5 + tailWidth / 2,\n    1.0 - headSize,\n    0\n  ];\n\n  const normals = [0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1, 0, 0, 1];\n\n  // Center and scale\n  const positions = new Array(texCoords.length);\n  for (let i = 0; i < texCoords.length / 3; i++) {\n    const i3 = i * 3;\n    positions[i3 + 0] = (texCoords[i3 + 0] - 0.5) * length;\n    positions[i3 + 1] = (texCoords[i3 + 1] - 0.5) * length;\n    positions[i3 + 2] = 0;\n  }\n  return {\n    positions: new Float32Array(positions),\n    normals: new Float32Array(normals),\n    texCoords: new Float32Array(texCoords)\n  };\n}\n"],"file":"arrow-2d-geometry.js"}